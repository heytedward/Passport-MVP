{"version":3,"file":"static/js/439.59512517.chunk.js","mappings":"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","sources":["components/GlassCard.jsx","components/NavBar.jsx","components/GlowButton.jsx","components/RecentActivityModal.jsx","screens/ProfileScreen.jsx","hooks/useReferrals.js"],"sourcesContent":["import styled, { keyframes } from 'styled-components';\n\nconst goldGlow = keyframes`\n  0%, 100% { \n    box-shadow: \n      0 0 12px 0 rgba(255,215,0,0.15),\n      0 0 24px 0 rgba(255,215,0,0.08),\n      inset 0 1px 0 rgba(255,215,0,0.1);\n  }\n  50% { \n    box-shadow: \n      0 0 20px 0 rgba(255,215,0,0.3),\n      0 0 40px 0 rgba(255,215,0,0.15),\n      inset 0 1px 0 rgba(255,215,0,0.2);\n  }\n`;\n\nconst GlassCard = styled.div`\n  position: relative;\n  background: ${({ theme }) => theme.colors?.glass?.background || 'linear-gradient(135deg, rgba(20,20,20,0.95) 0%, rgba(30,30,30,0.90) 50%, rgba(15,15,15,0.98) 100%)'};\n  border-radius: 20px;\n  border: 3px solid ${({ theme }) => theme.colors?.accent?.gold || '#FFD700'};\n  box-shadow: \n    0 0 12px 0 rgba(255,215,0,0.15),\n    0 0 24px 0 rgba(255,215,0,0.08),\n    inset 0 1px 0 rgba(255,215,0,0.1);\n  backdrop-filter: blur(18px);\n  -webkit-backdrop-filter: blur(18px);\n  overflow: hidden;\n  transition: transform 0.18s cubic-bezier(0.4,0,0.2,1), box-shadow 0.18s, border 0.18s;\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    border: 3px solid ${({ theme }) => theme.colors?.accent?.gold || '#FFD700'};\n    box-shadow: \n      0 0 20px 0 rgba(255,215,0,0.3),\n      0 0 40px 0 rgba(255,215,0,0.15),\n      inset 0 1px 0 rgba(255,215,0,0.2);\n    animation: ${goldGlow} 2s ease-in-out infinite;\n  }\n  \n  /* Content positioning */\n  > * {\n    position: relative;\n    z-index: 1;\n  }\n`;\n\nexport default GlassCard; ","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport styled, { keyframes } from 'styled-components';\n\nconst liquidBrand = keyframes`\n  0%, 100% { \n    background-position: 0% 50%; \n  }\n  50% { \n    background-position: 100% 50%; \n  }\n`;\n\nconst Nav = styled.nav`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(18, 18, 18, 0.95);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 8px 0 max(8px, env(safe-area-inset-bottom));\n  z-index: 1000;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);\n`;\n\nconst NavContainer = styled.div`\n  max-width: 100%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  position: relative;\n  padding: 0 20px;\n`;\n\n\n\nconst NavItem = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 12px;\n  border-radius: 12px;\n  text-decoration: none;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  min-width: 60px;\n  min-height: 48px; /* Ensure 44px+ touch target */\n  color: ${({ $isActive }) => \n    $isActive ? '#FFB000' : 'rgba(250, 250, 250, 0.7)'};\n  \n  ${({ $isActive }) => $isActive && `\n    background: rgba(127, 63, 191, 0.15);\n    transform: translateY(-2px);\n  `}\n  \n  &:hover {\n    color: #FFB000;\n    background: rgba(76, 28, 140, 0.1);\n    transform: translateY(-1px);\n  }\n  \n  &:active::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 20px;\n    height: 20px;\n    background: rgba(127, 63, 191, 0.3);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    animation: ripple 0.3s ease-out;\n  }\n`;\n\nconst IconContainer = styled.div`\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 4px;\n  position: relative;\n  \n  svg {\n    width: 22px;\n    height: 22px;\n    stroke-width: 2;\n    transition: all 0.2s ease;\n  }\n  \n  ${({ $isActive }) => $isActive && `\n    svg {\n      stroke-width: 2.5;\n      transform: scale(1.1);\n    }\n  `}\n`;\n\nconst Label = styled.span`\n  font-size: 11px;\n  font-weight: ${({ $isActive }) => $isActive ? '600' : '500'};\n  color: ${({ $isActive, theme }) => \n    $isActive ? theme.colors?.accent?.purple || '#7F3FBF' : 'rgba(255, 255, 255, 0.7)'};\n  transition: all 0.2s ease;\n  text-align: center;\n  line-height: 1.2;\n`;\n\nconst ActiveIndicator = styled.div`\n  position: absolute;\n  top: -2px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 4px;\n  height: 4px;\n  background: ${({ theme }) => theme.colors?.accent?.purple || '#7F3FBF'};\n  border-radius: 50%;\n  opacity: ${({ $isActive }) => $isActive ? 1 : 0};\n  transition: opacity 0.2s ease;\n`;\n\nconst ScanButtonContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\n\n\nconst ScanButton = styled(Link)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 56px;\n  height: 56px;\n  background: linear-gradient(135deg, #4C1C8C 0%, #FFB000 100%);\n  border-radius: 18px;\n  text-decoration: none;\n  color: white;\n  font-size: 24px;\n  box-shadow: \n    0 8px 25px rgba(76, 28, 140, 0.4),\n    0 0 20px rgba(255, 176, 0, 0.3);\n  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);\n  transform: translateY(-8px);\n  position: relative;\n  overflow: hidden;\n  \n  /* Brand shimmer */\n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: linear-gradient(45deg, \n      transparent 30%, \n      rgba(250,250,250,0.4) 50%, \n      transparent 70%\n    );\n    transform: rotate(45deg);\n    animation: ${liquidBrand} 3s linear infinite;\n  }\n  \n  &:hover {\n    transform: translateY(-12px) scale(1.1);\n    box-shadow: \n      0 12px 35px rgba(76, 28, 140, 0.6),\n      0 0 30px rgba(255, 176, 0, 0.5);\n  }\n  \n  &:active {\n    transform: translateY(-6px) scale(0.95);\n  }\n  \n  svg {\n    width: 40px;\n    height: 40px;\n    stroke-width: 2.5;\n  }\n`;\n\nconst NavBar = () => {\n  const location = useLocation();\n  \n  const navItems = [\n    { path: '/', icon: 'Home', label: 'Home' },\n    { path: '/passport', icon: 'Book', label: 'Passport' },\n    { path: '/closet', icon: 'Shirt', label: 'Closet' },\n    { path: '/profile', icon: 'User', label: 'Profile' }\n  ];\n  \n  const getIcon = (iconName, isActive) => {\n    const color = isActive ? '#7F3FBF' : 'rgba(255, 255, 250, 0.7)';\n    \n    switch (iconName) {\n      case 'Home':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/>\n            <polyline points=\"9,22 9,12 15,12 15,22\"/>\n          </svg>\n        );\n      case 'Book':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M4 19.5A2.5 2.5 0 0 1 6.5 17H20\"/>\n            <path d=\"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z\"/>\n          </svg>\n        );\n      case 'Shirt':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z\"/>\n          </svg>\n        );\n      case 'User':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/>\n            <circle cx=\"12\" cy=\"7\" r=\"4\"/>\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n  \n  return (\n    <Nav>\n      <NavContainer>\n        {navItems.slice(0, 2).map((item) => {\n          const isActive = location.pathname === item.path;\n          return (\n            <NavItem key={item.path} to={item.path} $isActive={isActive}>\n              <ActiveIndicator $isActive={isActive} />\n              <IconContainer $isActive={isActive}>\n                {getIcon(item.icon, isActive)}\n              </IconContainer>\n              <Label $isActive={isActive}>{item.label}</Label>\n            </NavItem>\n          );\n        })}\n        \n        <ScanButtonContainer>\n          <ScanButton to=\"/scan\" aria-label=\"Scan QR Code\">\n            <svg viewBox=\"0 0 1929.64 1459.22\" fill=\"currentColor\">\n              <g>\n                <path d=\"M965.35,380.63c-53.21,1.58-99.94-37.36-100.16-97.49-.2-54.36,38.41-99.68,100.16-100.14,55.99-.42,98.03,40.8,99.26,97.88,1.22,56.35-42.99,101.52-99.27,99.75Z\"/>\n                <path d=\"M966.46,439.05c47.18-2.32,98.18,37.36,98.17,98.68,0,55.27-41.86,99.73-99.63,98.75-60.67-1.03-99.14-42.83-99.9-97.4-.86-61.26,50.23-102.87,101.37-100.03Z\"/>\n                <path d=\"M236.74,262.16c4.24,.25,7.04-2.85,10.3-4.95,35.77-23.06,78.33-20.59,112.28,4.79,40.25,30.08,54.38,86.37,35.04,136.47-14.39,37.29-41.54,62.37-78.27,77.53-17.69,7.3-36.28,11.97-55.09,11.84-37.53-.26-71.65-11.49-100.36-36.96-28.13-24.95-43.88-56.5-51.22-92.84-11.23-55.55-1.27-108.45,21.14-159.34,23.73-53.88,60.05-98.07,107.56-132.82C284.89,31.68,337.56,12.12,394.65,3.7c29.15-4.3,58.57-4.72,87.59-1.92,48.25,4.66,94.63,17.27,137.57,40.86,66.42,36.48,115.74,89.41,149.97,156.48,21.05,41.23,34.11,85.05,39.19,131.26,3.15,28.68,5.46,57.46,3.87,86.17-2.65,48.19-11.14,95.48-25.31,141.79-27.17,88.79-71.22,168.99-123.39,245.11-37.17,54.23-77.54,106.01-120.45,155.83-30.53,35.45-61.47,70.51-93.43,104.72-23.31,24.95-46.07,50.49-69.42,75.41-70.8,75.55-143.47,149.3-217.8,221.35-30.3,29.37-61.18,58.3-93.28,85.83-13.53,11.6-28.74,14.4-45.38,11.63-16.21-2.71-27.3-20.35-23.7-36.76,1.96-8.91,6.27-16.77,11.15-24.44,17.42-27.41,37.62-52.79,57.51-78.36,57.5-73.89,115.36-147.49,173.21-221.11,48.68-61.95,96.29-124.71,142.59-188.46,55.87-76.92,109.09-155.58,153.83-239.6,32.46-60.96,59.52-124.21,76.27-191.5,8.52-34.21,13.5-68.98,13.22-104.18-.37-48.6-11.37-95.01-37.3-136.42-33.78-53.94-82.9-86.77-145.84-97.34-59.39-9.98-112.46,6.05-159.33,42.87-24.3,19.09-41.59,43.47-49.46,73.87-.44,1.72-1.16,3.41,.21,5.37Z\"/>\n                <path d=\"M1695.11,264.15c-3.87-22.28-12.68-40.21-25.49-56.03-31.54-38.96-73.39-60.6-122.15-68-76.02-11.54-139.34,14.6-190.01,70.76-29.32,32.5-44.49,72.67-51.91,115.55-10.35,59.8-1.62,118.08,14.96,175.64,20.57,71.42,52.55,137.82,89.39,202.03,52.52,91.52,113.86,177.08,177.14,261.33,54.59,72.67,110.97,143.95,167.02,215.48,47.73,60.91,95.63,121.69,141.96,183.68,9.97,13.33,19.6,26.96,27.71,41.55,5.95,10.71,8.2,21.92,3.05,33.67-5.14,11.73-13.86,18.21-26.95,19.23-16.72,1.3-30.31-3.95-43.08-15.07-82.91-72.22-159.38-151.09-236.49-229.24-33.47-33.93-65.79-69.06-98.59-103.68-31.86-33.64-63.52-67.51-94.03-102.36-35.26-40.27-70.04-80.95-103.23-123.02-37.15-47.08-71.74-95.89-102.59-147.23-36.79-61.24-65.49-126.16-84.5-195.23-15.29-55.58-21.92-112.14-19.43-169.67,4.56-105.31,40.12-197.82,115.47-273.1,53.73-53.67,119.21-85.11,194-95.75,92.53-13.17,179.85,2.43,257.42,56.57,75.73,52.85,123.95,124.99,138.04,216.96,7.33,47.83,3.27,95.62-23.74,138.08-25.55,40.17-61.92,64.11-109.97,69.79-41.07,4.85-77.82-6.27-110.35-30.22-45.3-33.36-64.26-94.2-43.97-145.77,16.74-42.55,57.05-69.78,101.87-68.7,16.18,.39,30.85,5.69,44.53,14.04,4.13,2.52,8.2,5.16,13.93,8.77Z\"/>\n              </g>\n            </svg>\n          </ScanButton>\n        </ScanButtonContainer>\n        \n        {navItems.slice(2).map((item) => {\n          const isActive = location.pathname === item.path;\n          return (\n            <NavItem key={item.path} to={item.path} $isActive={isActive}>\n              <ActiveIndicator $isActive={isActive} />\n              <IconContainer $isActive={isActive}>\n                {getIcon(item.icon, isActive)}\n              </IconContainer>\n              <Label $isActive={isActive}>{item.label}</Label>\n            </NavItem>\n          );\n        })}\n      </NavContainer>\n    </Nav>\n  );\n};\n\nexport default NavBar; ","import React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nconst glow = keyframes`\n  0%, 100% { box-shadow: 0 0 5px #FFB000, 0 0 10px #FFB000, 0 0 15px #FFB000; }\n  50% { box-shadow: 0 0 10px #FFB000, 0 0 20px #FFB000, 0 0 30px #FFB000; }\n`;\n\nconst GlowButton = styled.button`\n  background: ${({ theme }) => theme.colors.accent.gold};\n  color: ${({ theme }) => theme.colors.background};\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  border-radius: 20px;\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  padding: 16px 32px;\n  cursor: pointer;\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    background: transparent;\n    color: ${({ theme }) => theme.colors.accent.gold};\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n  &:focus {\n    outline: none;\n    transform: translateY(-3px) scale(1.02);\n    background: transparent;\n    color: ${({ theme }) => theme.colors.accent.gold};\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n  &:active {\n    transform: translateY(-1px) scale(1.01);\n  }\n`;\n\nexport default GlowButton; ","import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport styled from 'styled-components';\nimport { createClient } from '@supabase/supabase-js';\nimport { useAuth } from '../hooks/useAuth';\nimport GlassCard from './GlassCard';\nimport GlowButton from './GlowButton';\n\nconst supabase = createClient(\n  process.env.REACT_APP_SUPABASE_URL,\n  process.env.REACT_APP_SUPABASE_ANON_KEY\n);\n\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(18, 18, 18, 0.8);\n  backdrop-filter: blur(20px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  padding: 1rem;\n  \n  /* Ensure the overlay is clickable */\n  pointer-events: auto;\n`;\n\nconst ModalCard = styled(GlassCard)`\n  max-width: 500px;\n  width: 100%;\n  max-height: 80vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  position: relative;\n  pointer-events: auto;\n`;\n\nconst ModalHeader = styled.div`\n  padding: 32px 32px 24px 32px;\n  border-bottom: 3px solid ${({ theme }) => theme.colors.accent.gold};\n`;\n\nconst ModalTitle = styled.h2`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0 0 24px 0;\n  font-size: ${({ theme }) => theme.typography.fontSize.h2};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n`;\n\nconst FilterTabs = styled.div`\n  display: flex;\n  gap: 18px;\n  flex-wrap: wrap;\n`;\n\nconst FilterTab = styled.button`\n  padding: 12px 20px;\n  border: 3px solid ${({ $active, theme }) => \n    $active ? theme.colors.accent.gold : theme.colors.accent.gold};\n  background: ${({ $active, theme }) => \n    $active ? theme.colors.accent.gold : 'transparent'};\n  color: ${({ $active, theme }) => \n    $active ? theme.colors.background : theme.colors.text.primary};\n  border-radius: 20px;\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.medium};\n  cursor: pointer;\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n\n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    background: ${({ theme }) => theme.colors.accent.gold};\n    color: ${({ theme }) => theme.colors.background};\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n`;\n\nconst ModalBody = styled.div`\n  flex: 1;\n  overflow-y: auto;\n  padding: 24px 32px 32px 32px;\n`;\n\nconst ActivityList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n`;\n\nconst ActivityItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 18px;\n  padding: 24px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n`;\n\nconst ActivityIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  background: ${({ $type, theme }) => {\n    switch ($type) {\n      case 'scan': return theme.colors.accent.purple;\n      case 'quest': return theme.colors.accent.gold;\n      case 'event': return theme.colors.accent.pink;\n      case 'daily': return theme.colors.accent.green;\n      case 'referral': return theme.colors.accent.cyan;\n      default: return theme.colors.accent.purple;\n    }\n  }};\n`;\n\nconst ActivityContent = styled.div`\n  flex: 1;\n`;\n\nconst ActivityTitle = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n  margin-bottom: 8px;\n`;\n\nconst ActivityDescription = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n`;\n\nconst ActivityMeta = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n`;\n\nconst WingsEarned = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.accent.gold};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n`;\n\nconst ActivityDate = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 0.75rem;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 64px 32px;\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n`;\n\nconst CloseButton = styled.button`\n  position: absolute;\n  top: 24px;\n  right: 24px;\n  background: transparent;\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.5rem;\n  cursor: pointer;\n  width: 48px;\n  height: 48px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n  z-index: 10;\n\n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    background: ${({ theme }) => theme.colors.accent.gold};\n    color: ${({ theme }) => theme.colors.background};\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n  \n  &:focus {\n    outline: none;\n    transform: translateY(-3px) scale(1.02);\n    background: ${({ theme }) => theme.colors.accent.gold};\n    color: ${({ theme }) => theme.colors.background};\n  }\n`;\n\nconst ACTIVITY_FILTERS = [\n  { key: 'all', label: 'All', icon: '' },\n  { key: 'scan', label: 'Scans', icon: '' },\n  { key: 'quest', label: 'Quests', icon: '' },\n  { key: 'event', label: 'Events', icon: '' },\n  { key: 'daily', label: 'Dailies', icon: '' },\n  { key: 'referral', label: 'Referrals', icon: '' }\n];\n\nconst RecentActivityModal = ({ isOpen, onClose }) => {\n  const { user } = useAuth();\n  const [activities, setActivities] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [activeFilter, setActiveFilter] = useState('all');\n  const [allActivities, setAllActivities] = useState([]);\n  const isInitializedRef = useRef(false);\n  const isProcessingRef = useRef(false);\n\n  // Fetch all activities once when modal opens\n  useEffect(() => {\n    if (isOpen && user && !isInitializedRef.current) {\n      fetchAllActivities();\n    } else if (isOpen && user && isInitializedRef.current && allActivities.length === 0) {\n      // If modal opens but no activities loaded, try again\n      console.log(' Modal opened but no activities, retrying...');\n      isInitializedRef.current = false;\n      fetchAllActivities();\n    } else if (isOpen && !user) {\n      // If no user, show mock data immediately\n      console.log(' No user, showing mock data immediately');\n      const mockActivities = [\n        {\n          id: 1,\n          activity_type: 'scan',\n          activity_title: 'QR Code Scanned',\n          activity_description: 'Scanned QR code at Coffee Shop Downtown',\n          wings_earned: 35,\n          activity_date: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 2,\n          activity_type: 'quest',\n          activity_title: 'Daily Quest Completed',\n          activity_description: 'Completed \"Morning Scan Challenge\"',\n          wings_earned: 75,\n          activity_date: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n        }\n      ];\n      setAllActivities(mockActivities);\n      setLoading(false);\n    }\n  }, [isOpen, user]);\n\n  // Filter activities when filter changes (no re-fetch)\n  useEffect(() => {\n    if (allActivities.length > 0) {\n      filterActivities();\n    }\n  }, [activeFilter, allActivities]);\n\n  // Reset state when modal closes\n  useEffect(() => {\n    if (!isOpen) {\n      isInitializedRef.current = false;\n      isProcessingRef.current = false;\n      setAllActivities([]);\n      setActivities([]);\n      setActiveFilter('all');\n    }\n  }, [isOpen]);\n\n  const fetchAllActivities = useCallback(async () => {\n    if (isProcessingRef.current) {\n      console.log(' Already processing activities, skipping');\n      return;\n    }\n\n    console.log(' Starting fetchAllActivities...');\n    isProcessingRef.current = true;\n    setLoading(true);\n    \n    try {\n      console.log(' Fetching all activities for user:', user.id);\n      \n      // Check if Supabase is properly configured\n      if (!process.env.REACT_APP_SUPABASE_URL || !process.env.REACT_APP_SUPABASE_ANON_KEY) {\n        console.log(' Supabase environment variables not configured, using mock data');\n        throw new Error('Supabase not configured');\n      }\n      \n      console.log(' Supabase configured, attempting database query...');\n      \n      const { data, error } = await supabase\n        .from('user_activity')\n        .select('*')\n        .eq('user_id', user.id)\n        .order('activity_date', { ascending: false })\n        .limit(50);\n      \n      if (error) throw error;\n      \n              // If no data from database, use mock data for demonstration\n        if (!data || data.length === 0) {\n          console.log(' No database data, using mock activities');\n          const mockActivities = [\n          {\n            id: 1,\n            activity_type: 'scan',\n            activity_title: 'QR Code Scanned',\n            activity_description: 'Scanned QR code at Coffee Shop Downtown',\n            wings_earned: 35,\n            activity_date: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(), // 2 hours ago\n          },\n          {\n            id: 2,\n            activity_type: 'quest',\n            activity_title: 'Daily Quest Completed',\n            activity_description: 'Completed \"Morning Scan Challenge\"',\n            wings_earned: 75,\n            activity_date: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(), // 6 hours ago\n          },\n          {\n            id: 3,\n            activity_type: 'daily',\n            activity_title: 'Daily Login Bonus',\n            activity_description: 'Claimed daily login reward',\n            wings_earned: 35,\n            activity_date: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(), // 1 day ago\n          },\n          {\n            id: 4,\n            activity_type: 'referral',\n            activity_title: 'Friend Joined',\n            activity_description: 'Your friend Alex joined using your referral code',\n            wings_earned: 150,\n            activity_date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(), // 2 days ago\n          },\n          {\n            id: 5,\n            activity_type: 'event',\n            activity_title: 'Special Event Participation',\n            activity_description: 'Participated in \"Weekend Warrior\" event',\n            wings_earned: 150,\n            activity_date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(), // 3 days ago\n          },\n          {\n            id: 6,\n            activity_type: 'scan',\n            activity_title: 'QR Code Scanned',\n            activity_description: 'Scanned QR code at Retail Store Plaza',\n            wings_earned: 35,\n            activity_date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(), // 4 days ago\n          },\n          {\n            id: 7,\n            activity_type: 'quest',\n            activity_title: 'Weekly Quest Completed',\n            activity_description: 'Completed \"Explorer Challenge\" - visited 5 locations',\n            wings_earned: 150,\n            activity_date: new Date(Date.now() - 5 * 24 * 60 * 60 * 1000).toISOString(), // 5 days ago\n          },\n          {\n            id: 8,\n            activity_type: 'daily',\n            activity_title: 'Streak Bonus',\n            activity_description: '7-day login streak achieved!',\n            wings_earned: 75,\n            activity_date: new Date(Date.now() - 7 * 24 * 60 * 60 * 1000).toISOString(), // 7 days ago\n          }\n        ];\n        \n        setAllActivities(mockActivities);\n        isInitializedRef.current = true;\n      } else {\n        console.log(' Database activities loaded:', data.length);\n        setAllActivities(data);\n        isInitializedRef.current = true;\n      }\n    } catch (error) {\n      console.error(' Error fetching activities:', error);\n      console.log(' Falling back to mock data due to error');\n      \n      // Enhanced mock data with more variety\n      const mockActivities = [\n        {\n          id: 1,\n          activity_type: 'scan',\n          activity_title: 'QR Code Scanned',\n          activity_description: 'Scanned QR code at Coffee Shop Downtown',\n          wings_earned: 35,\n          activity_date: new Date(Date.now() - 2 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 2,\n          activity_type: 'quest',\n          activity_title: 'Daily Quest Completed',\n          activity_description: 'Completed \"Morning Scan Challenge\"',\n          wings_earned: 75,\n          activity_date: new Date(Date.now() - 6 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 3,\n          activity_type: 'daily',\n          activity_title: 'Daily Login Bonus',\n          activity_description: 'Claimed daily login reward',\n          wings_earned: 35,\n          activity_date: new Date(Date.now() - 24 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 4,\n          activity_type: 'referral',\n          activity_title: 'Friend Joined',\n          activity_description: 'Your friend Alex joined using your referral code',\n          wings_earned: 150,\n          activity_date: new Date(Date.now() - 2 * 24 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 5,\n          activity_type: 'event',\n          activity_title: 'Special Event Participation',\n          activity_description: 'Participated in \"Weekend Warrior\" event',\n          wings_earned: 150,\n          activity_date: new Date(Date.now() - 3 * 24 * 60 * 60 * 1000).toISOString(),\n        },\n        {\n          id: 6,\n          activity_type: 'scan',\n          activity_title: 'QR Code Scanned',\n          activity_description: 'Scanned QR code at Retail Store Plaza',\n          wings_earned: 35,\n          activity_date: new Date(Date.now() - 4 * 24 * 60 * 60 * 1000).toISOString(),\n        }\n      ];\n      \n      console.log(' Setting mock activities:', mockActivities.length);\n      setAllActivities(mockActivities);\n      isInitializedRef.current = true;\n    } finally {\n      console.log(' fetchAllActivities completed, setting loading to false');\n      setLoading(false);\n      isProcessingRef.current = false;\n    }\n  }, [user]);\n\n  const filterActivities = useCallback(() => {\n    if (allActivities.length === 0) return;\n    \n    console.log(' Filtering activities for:', activeFilter);\n    \n    const filtered = activeFilter === 'all' \n      ? allActivities \n      : allActivities.filter(activity => activity.activity_type === activeFilter);\n      \n    setActivities(filtered);\n  }, [activeFilter, allActivities]);\n\n  const formatDate = (dateString) => {\n    const date = new Date(dateString);\n    const now = new Date();\n    const diffInHours = (now - date) / (1000 * 60 * 60);\n\n    if (diffInHours < 1) {\n      return 'Just now';\n    } else if (diffInHours < 24) {\n      return `${Math.floor(diffInHours)}h ago`;\n    } else if (diffInHours < 168) { // 7 days\n      return `${Math.floor(diffInHours / 24)}d ago`;\n    } else {\n      return date.toLocaleDateString();\n    }\n  };\n\n  const getActivityIcon = (type) => {\n    const filter = ACTIVITY_FILTERS.find(f => f.key === type);\n    return filter?.icon || '';\n  };\n\n  if (!isOpen) return null;\n\n  return (\n    <ModalOverlay onClick={onClose}>\n      <ModalCard onClick={e => e.stopPropagation()}>\n        <CloseButton onClick={(e) => {\n          e.stopPropagation();\n          onClose();\n        }}></CloseButton>\n        \n        <ModalHeader>\n          <ModalTitle>Recent Activity</ModalTitle>\n          <FilterTabs>\n            {ACTIVITY_FILTERS.map(filter => (\n              <FilterTab\n                key={filter.key}\n                $active={activeFilter === filter.key}\n                onClick={() => setActiveFilter(filter.key)}\n              >\n                {filter.icon} {filter.label}\n              </FilterTab>\n            ))}\n          </FilterTabs>\n        </ModalHeader>\n\n        <ModalBody>\n          {loading ? (\n            <EmptyState>Loading activities...</EmptyState>\n          ) : activities.length === 0 ? (\n            <EmptyState>\n              {activeFilter === 'all' \n                ? \"No activity yet. Start scanning QR codes to earn rewards!\"\n                : `No ${activeFilter} activities yet.`}\n            </EmptyState>\n          ) : (\n            <ActivityList>\n              {activities.map(activity => (\n                <ActivityItem key={activity.id}>\n                  <ActivityIcon $type={activity.activity_type}>\n                    {getActivityIcon(activity.activity_type)}\n                  </ActivityIcon>\n                  <ActivityContent>\n                    <ActivityTitle>{activity.activity_title}</ActivityTitle>\n                    {activity.activity_description && (\n                      <ActivityDescription>{activity.activity_description}</ActivityDescription>\n                    )}\n                  </ActivityContent>\n                  <ActivityMeta>\n                    {activity.wings_earned > 0 && (\n                      <WingsEarned>+{activity.wings_earned} WNGS</WingsEarned>\n                    )}\n                    <ActivityDate>{formatDate(activity.activity_date)}</ActivityDate>\n                  </ActivityMeta>\n                </ActivityItem>\n              ))}\n            </ActivityList>\n          )}\n        </ModalBody>\n      </ModalCard>\n    </ModalOverlay>\n  );\n};\n\nexport default RecentActivityModal; ","import React, { useState, useEffect } from 'react';\nimport styled, { useTheme } from 'styled-components';\nimport GlassCard from '../components/GlassCard';\nimport RecentActivityModal from '../components/RecentActivityModal';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../hooks/useAuth';\nimport { useReferrals } from '../hooks/useReferrals';\nimport { createClient } from '@supabase/supabase-js';\nimport NavBar from '../components/NavBar';\n\nconst Container = styled.div`\n  min-height: 100vh;\n  background: ${({ theme }) => theme.colors.background};\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px 8px 100px 8px;\n  @media (min-width: 900px) {\n    padding: 48px 0 120px 0;\n  }\n`;\n\nconst TopRow = styled.div`\n  display: flex;\n  flex-direction: row;\n  gap: 24px;\n  width: 100%;\n  max-width: 900px;\n  margin: 0 auto 32px auto;\n`;\n\nconst gold = '#FFD700';\n\nconst ProfileHeader = styled(GlassCard)`\n  flex: 1;\n  width: 50%;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 32px 0 24px 0;\n  border: 2.5px solid ${gold};\n  box-shadow: 0 0 8px 0 rgba(255,215,0,0.10);\n  cursor: pointer;\n  transition: box-shadow 0.2s, transform 0.2s;\n  &:hover, &:focus {\n    box-shadow: 0 0 16px 0 rgba(255,215,0,0.25);\n    transform: translateY(-2px) scale(1.02);\n    outline: none;\n  }\n`;\n\nconst Avatar = styled.div`\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  background: ${({ theme }) => theme.gradients.primary};\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.8rem;\n  color: #fff;\n  box-shadow: 0 0 16px 0 #7F3FBF88;\n  margin-bottom: 16px;\n  border: 2.5px solid ${({ theme }) => theme.colors.accent};\n`;\n\nconst ProfileName = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.3rem;\n  font-weight: 700;\n  margin-bottom: 4px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  padding: 4px 8px;\n  border-radius: 8px;\n  border: 2px solid transparent;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    border-color: ${({ theme }) => theme.colors.accent.gold};\n    background: rgba(255, 215, 0, 0.1);\n  }\n`;\n\nconst EditIcon = styled.span`\n  font-size: 0.9rem;\n  color: ${({ theme }) => theme.colors.accent.gold};\n  opacity: 0.7;\n  transition: opacity 0.2s ease;\n  \n  ${ProfileName}:hover & {\n    opacity: 1;\n  }\n`;\n\n\n\nconst BalanceCard = styled(GlassCard)`\n  flex: 1;\n  width: 50%;\n  min-width: 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  border: 2.5px solid ${gold};\n  box-shadow: 0 0 8px 0 rgba(255,215,0,0.10);\n  padding: 32px 0 24px 0;\n  transition: box-shadow 0.2s, transform 0.2s;\n  &:hover, &:focus {\n    box-shadow: 0 0 16px 0 rgba(255,215,0,0.25);\n    transform: translateY(-2px) scale(1.02);\n    outline: none;\n  }\n`;\n\nconst BalanceLabel = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.accent};\n  font-size: 1.3rem;\n  margin-bottom: 8px;\n`;\n\nconst Button = styled.button`\n  background: ${({ theme }) => theme.colors.accent};\n  color: white;\n  border: none;\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-size: 1rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);\n  }\n  \n  &:active {\n    transform: translateY(0);\n  }\n`;\n\nconst BalanceValue = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.secondary};\n  font-size: 2.5rem;\n  font-weight: bold;\n  letter-spacing: 2px;\n`;\n\nconst SectionCard = styled(GlassCard)`\n  width: 100%;\n  max-width: 900px;\n  margin: 0 auto 32px auto;\n  padding: 32px 32px 24px 32px;\n  border: 2.5px solid ${gold};\n  box-shadow: 0 0 8px 0 rgba(255,215,0,0.10);\n  transition: box-shadow 0.2s, transform 0.2s;\n  @media (max-width: 600px) {\n    padding: 20px 8px 16px 8px;\n  }\n  &:hover, &:focus {\n    box-shadow: 0 0 16px 0 rgba(255,215,0,0.25);\n    transform: translateY(-2px) scale(1.02);\n    outline: none;\n  }\n`;\n\n\n\nconst SectionTitle = styled.h2`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.5rem;\n  margin-bottom: 24px;\n  text-align: center;\n  letter-spacing: 1px;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\n\n\nconst TransactionStatus = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.accent.green};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n`;\n\nconst TransactionDate = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n`;\n\nconst ProgressSection = styled(SectionCard)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 0;\n`;\n\nconst ProgressBarContainer = styled.div`\n  background: ${({ theme }) => theme.colors.glass.background};\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  border-radius: 20px;\n  height: 24px;\n  margin-bottom: 24px;\n  overflow: hidden;\n  width: 100%;\n  max-width: 700px;\n`;\n\nconst ProgressBar = styled.div`\n  height: 100%;\n  border-radius: 20px;\n  background: ${({ color, theme }) => color || theme.colors.accent.gold};\n  width: ${({ value }) => value}%;\n  transition: width ${({ theme }) => theme.animation.duration.slow};\n`;\n\nconst AchievementsRow = styled.div`\n  display: flex;\n  justify-content: center;\n  gap: 32px;\n  margin-top: 24px;\n`;\n\nconst AchievementIcon = styled.div`\n  width: 64px;\n  height: 64px;\n  background: ${({ theme }) => theme.gradients.primary};\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 2.2rem;\n  box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n  }\n`;\n\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0; left: 0; right: 0; bottom: 0;\n  background: rgba(18, 18, 18, 0.75);\n  backdrop-filter: blur(16px);\n  z-index: 2000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  animation: fadeIn 0.3s;\n  @keyframes fadeIn {\n    from { opacity: 0; }\n    to { opacity: 1; }\n  }\n`;\n\nconst ModalCard = styled.div`\n  background: linear-gradient(135deg, rgba(30,30,30,0.95) 0%, rgba(127,63,191,0.13) 100%);\n  border: 2.5px solid ${gold};\n  border-radius: 22px;\n  box-shadow: 0 8px 40px 0 rgba(255,215,0,0.10), 0 0 32px 0 rgba(127,63,191,0.10);\n  padding: 2.2rem 1.5rem 1.5rem 1.5rem;\n  min-width: 320px;\n  max-width: 95vw;\n  width: 100%;\n  max-width: 400px;\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  @media (max-width: 500px) {\n    min-width: 0;\n    padding: 1.2rem 0.7rem 1.2rem 0.7rem;\n  }\n`;\n\nconst ModalTitle = styled.h2`\n  font-family: 'Outfit', sans-serif;\n  font-size: 1.3rem;\n  font-weight: 700;\n  color: #fff;\n  margin-bottom: 0.7rem;\n  text-align: center;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst ModalButton = styled.button`\n  width: 100%;\n  max-width: 320px;\n  margin-bottom: 1rem;\n  padding: 0.85rem 0;\n  border-radius: 12px;\n  border: 2px solid ${gold};\n  background: transparent;\n  color: #fff;\n  font-family: 'Outfit', sans-serif;\n  font-size: 1.08rem;\n  font-weight: 600;\n  cursor: pointer;\n  transition: background 0.18s, color 0.18s;\n  &:hover, &:focus {\n    background: ${gold};\n    color: #000000;\n    outline: none;\n  }\n`;\n\nconst ModalClose = styled.button`\n  position: absolute;\n  top: 18px;\n  right: 18px;\n  background: none;\n  border: none;\n  color: #fff;\n  font-size: 1.5rem;\n  cursor: pointer;\n  z-index: 10;\n  border-radius: 50%;\n  width: 36px;\n  height: 36px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s;\n  &:hover {\n    background: rgba(255,255,255,0.08);\n  }\n`;\n\nconst QRContainer = styled.div`\n  width: 120px;\n  height: 120px;\n  background: #fff;\n  border-radius: 16px;\n  margin: 0 auto 1rem auto;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 2.5rem;\n  color: #000000;\n  box-shadow: 0 2px 12px 0 rgba(255,215,0,0.10);\n`;\n\nconst ReferralList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 1rem;\n`;\n\nconst ReferralItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 1rem;\n  padding: 1rem;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n`;\n\nconst ReferralIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  border-radius: 8px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.2rem;\n  background: ${({ theme }) => theme.colors.accent.purple};\n`;\n\nconst ReferralContent = styled.div`\n  flex: 1;\n`;\n\nconst ReferralTitle = styled.div`\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: 600;\n  margin-bottom: 0.25rem;\n`;\n\nconst ReferralDescription = styled.div`\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 0.875rem;\n`;\n\nconst ReferralMeta = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 0.25rem;\n`;\n\nconst ReferralStatus = styled.div`\n  color: ${({ theme }) => theme.colors.accent.green};\n  font-weight: 600;\n  font-size: 0.875rem;\n`;\n\nconst ReferralReward = styled.div`\n  color: ${({ theme }) => theme.colors.accent.gold};\n  font-weight: 600;\n  font-size: 0.875rem;\n`;\n\nconst ShareReferralButton = styled.button`\n  background: linear-gradient(135deg, #FFB000 0%, #FF9F1C 100%);\n  border: 3px solid #FFB000;\n  border-radius: 20px;\n  color: #000;\n  font-family: 'Outfit', sans-serif;\n  font-weight: 700;\n  font-size: 1rem;\n  padding: 16px 32px;\n  cursor: pointer;\n  transition: all 0.3s cubic-bezier(0.4,0,0.2,1);\n  margin-top: 24px;\n  width: 100%;\n  max-width: 200px;\n  align-self: center;\n  box-shadow: \n    0 0 20px 0 rgba(255,176,0,0.2),\n    0 0 40px 0 rgba(255,176,0,0.1);\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    box-shadow: \n      0 0 30px 0 rgba(255,176,0,0.4),\n      0 0 60px 0 rgba(255,176,0,0.2);\n  }\n  \n  &:active {\n    transform: translateY(-1px) scale(1.01);\n  }\n`;\n\n// Activity item components that match the referral pattern\nconst ActivityList = styled.div`\n  display: flex;\n  flex-direction: column;\n  gap: 18px;\n`;\n\nconst ActivityItem = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 18px;\n  padding: 24px;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 20px;\n  border: 3px solid ${({ theme }) => theme.colors.accent.gold};\n  transition: all ${({ theme }) => theme.animation.duration.normal} ${({ theme }) => theme.animation.timing.smooth};\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    box-shadow: ${({ theme }) => theme.effects.neonGlow};\n  }\n`;\n\nconst ActivityIcon = styled.div`\n  width: 48px;\n  height: 48px;\n  border-radius: 20px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 1.5rem;\n  background: ${({ $type, theme }) => {\n    switch ($type) {\n      case 'scan': return theme.colors.accent.purple;\n      case 'purchase': return theme.colors.accent.pink;\n      case 'daily': return theme.colors.accent.green;\n      default: return theme.colors.accent.purple;\n    }\n  }};\n`;\n\nconst ActivityContent = styled.div`\n  flex: 1;\n`;\n\nconst ActivityTitle = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  font-size: ${({ theme }) => theme.typography.fontSize.body};\n  margin-bottom: 8px;\n`;\n\nconst ActivityDescription = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n`;\n\nconst ActivityMeta = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 8px;\n`;\n\nconst ActivityStatus = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ theme }) => theme.colors.accent.green};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n`;\n\nconst ActivityAmount = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  color: ${({ $positive, theme }) => \n    $positive ? theme.colors.accent.gold : theme.colors.accent.pink};\n  font-weight: ${({ theme }) => theme.typography.fontWeight.bold};\n  font-size: ${({ theme }) => theme.typography.fontSize.small};\n`;\n\nconst ActivityDate = styled.div`\n  font-family: ${({ theme }) => theme.typography.fontFamily.body};\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 0.75rem;\n`;\n\nconst ShareButton = styled(ModalButton)`\n  margin-top: 0.5rem;\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst AdminButton = styled(ModalButton)`\n  background: ${({ theme }) => theme.colors.accent.gold};\n  color: #000;\n  margin-top: 1rem;\n\n  &:hover {\n    background: #FFC72C;\n  }\n`;\n\nconst ActionButton = styled.button`\n  background: ${({ theme }) => theme.colors.primary};\n  color: ${({ theme }) => theme.colors.background};\n  border: none;\n  border-radius: 8px;\n  padding: 12px 24px;\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  font-size: 1rem;\n  font-weight: bold;\n  cursor: pointer;\n  transition: all 0.2s ease-in-out;\n\n  &:hover {\n    transform: scale(1.05);\n    box-shadow: 0 0 15px ${({ theme }) => theme.colors.primary};\n  }\n`;\n\nfunction ReferralModal({ open, onClose, user }) {\n  const { referralCode, generateReferralLink, shareReferral } = useReferrals();\n  const [copied, setCopied] = useState(false);\n  \n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) onClose();\n  };\n  \n  const handleCopyLink = async () => {\n    if (!referralCode) return;\n    \n    const result = await shareReferral(referralCode);\n    if (result.success) {\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    }\n  };\n\n  const handleNativeShare = async () => {\n    if (referralCode) {\n      await shareReferral(referralCode);\n    }\n  };\n  \n  return open ? (\n    <ModalOverlay onClick={handleOverlayClick}>\n      <ModalCard>\n        <ModalClose aria-label=\"Close\" onClick={onClose}></ModalClose>\n        <ModalTitle>Share Your Referral</ModalTitle>\n        \n        {referralCode ? (\n          <div style={{ width: '100%', textAlign: 'center', marginTop: '0.5rem' }}>\n            <div style={{\n              background: 'rgba(255, 176, 0, 0.1)',\n              border: '1px solid rgba(255, 176, 0, 0.3)',\n              borderRadius: '12px',\n              padding: '1rem',\n              marginBottom: '1rem'\n            }}>\n              <div style={{ color: '#aaa', fontSize: '0.9rem', marginBottom: '0.5rem' }}>\n                Your Referral Code\n              </div>\n              <div style={{ \n                fontSize: '1.8rem', \n                fontWeight: 'bold', \n                color: '#FFD700',\n                fontFamily: 'monospace',\n                letterSpacing: '3px',\n                marginBottom: '0.5rem'\n              }}>\n                {referralCode}\n              </div>\n              <div style={{ color: '#aaa', fontSize: '0.8rem' }}>\n                Each friend earns you 50 WINGS\n              </div>\n            </div>\n\n            <div style={{ display: 'flex', flexDirection: 'column', gap: '0.75rem' }}>\n              <ModalButton onClick={handleNativeShare}>\n                 Share with Friends\n              </ModalButton>\n              \n              <ModalButton onClick={handleCopyLink}>\n                {copied ? ' Copied!' : ' Copy Referral Link'}\n              </ModalButton>\n              \n              <ModalButton \n                onClick={() => window.open(`https://www.instagram.com/`, '_blank')}\n                style={{ background: 'linear-gradient(45deg, #405DE6, #5851DB, #833AB4, #C13584, #E1306C, #FD1D1D)' }}\n              >\n                 Share to Instagram Story\n              </ModalButton>\n            </div>\n\n\n\n            <div style={{ \n              marginTop: '1rem', \n              padding: '0.75rem',\n              background: 'rgba(16, 185, 129, 0.1)',\n              border: '1px solid rgba(16, 185, 129, 0.3)',\n              borderRadius: '8px',\n              fontSize: '0.85rem',\n              color: '#10B981'\n            }}>\n               Friends get 25 WINGS for joining + 25 more for their first scan!\n            </div>\n          </div>\n        ) : (\n          <div style={{ textAlign: 'center', color: '#aaa' }}>\n            Loading your referral code...\n          </div>\n        )}\n      </ModalCard>\n    </ModalOverlay>\n  ) : null;\n}\n\nfunction ProfileScreen() {\n  const [showReferralModal, setShowReferralModal] = useState(false);\n  const [showActivityModal, setShowActivityModal] = useState(false);\n  const [profile, setProfile] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const navigate = useNavigate();\n  const { user, isAdmin, profile: authProfile } = useAuth();\n  const { \n    referralCode, \n    referralStats, \n    referralHistory, \n    loading: referralLoading, \n    shareReferral,\n    generateReferralLink \n  } = useReferrals();\n\n  // Debug referral code\n  useEffect(() => {\n    console.log(' ProfileScreen: referralCode updated:', referralCode);\n    console.log(' ProfileScreen: referralLoading:', referralLoading);\n    console.log(' ProfileScreen: user:', user?.id);\n  }, [referralCode, referralLoading, user]);\n  const theme = useTheme();\n\n  useEffect(() => {\n    if (user && authProfile) {\n      setProfile({\n        name: authProfile.username || user.user_metadata?.username || user.email?.split('@')[0],\n        email: user.email,\n        avatar: authProfile.avatar_url || null,\n        joinDate: new Date(user.created_at).toLocaleDateString(),\n        totalWings: authProfile.wings_balance || 0,\n        level: Math.floor((authProfile.wings_balance || 0) / 100) + 1,\n        achievements: 0,\n        items: 0\n      });\n      setLoading(false);\n    } else if (user) {\n      // Fallback if no profile found\n      setProfile({\n        name: user.user_metadata?.username || user.email?.split('@')[0] || 'User',\n        email: user.email,\n        avatar: null,\n        joinDate: new Date(user.created_at).toLocaleDateString(),\n        totalWings: 0,\n        level: 1,\n        achievements: 0,\n        items: 0\n      });\n      setLoading(false);\n    }\n  }, [user, authProfile]);\n\n  const balance = 0;\n  const transactions = [\n    { type: 'Scan Quest Earn', amount: '+75 WNGS', positive: true, status: 'Completed', date: 'Mar 18, 2025' },\n    { type: 'Shop Purchase', amount: '-50 WNGS', positive: false, status: 'Completed', date: 'Mar 15, 2025' },\n    { type: 'Daily Reward', amount: '+35 WNGS', positive: true, status: 'Completed', date: 'Mar 14, 2025' },\n  ];\n  const progress = [\n    { color: theme.colors.secondary, value: 60 },\n    { color: theme.colors.accent, value: 80 },\n  ];\n  const invited = 3, pending = 2, joined = 1, rewards = 50;\n  const referralPercent = Math.min((invited / 5) * 100, 100);\n\n  return (\n    <Container>\n      <TopRow>\n        <ProfileHeader onClick={() => navigate('/settings')}>\n          <Avatar\n  style={profile?.avatar ? {\n    backgroundImage: `url(${profile.avatar})`,\n    backgroundSize: 'cover',\n    backgroundPosition: 'center',\n    backgroundRepeat: 'no-repeat',\n    color: 'transparent'\n  } : {}}>\n  {!profile?.avatar && (\n    user?.user_metadata?.username ? user.user_metadata.username.charAt(0).toUpperCase() : \n    user?.email ? user.email.charAt(0).toUpperCase() : 'U'\n  )}\n</Avatar>\n          <ProfileName>\n            {user?.user_metadata?.username || user?.email?.split('@')[0] || 'User'}\n          </ProfileName>\n        </ProfileHeader>\n        <BalanceCard>\n          <BalanceLabel>WNGS Balance</BalanceLabel>\n          <BalanceValue>{profile?.totalWings?.toLocaleString() || '0'}</BalanceValue>\n        </BalanceCard>\n      </TopRow>\n\n      <SectionCard style={{ display: 'flex', flexDirection: 'column' }}>\n        <SectionTitle>Referral Program</SectionTitle>\n        \n        {/* Referral Stats */}\n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: 'repeat(auto-fit, minmax(120px, 1fr))', \n          gap: '1rem', \n          marginBottom: '1.5rem' \n        }}>\n          <div style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#FFD700' }}>\n              {referralStats.totalReferrals}\n            </div>\n            <div style={{ fontSize: '0.8rem', color: '#aaa' }}>Total Referrals</div>\n          </div>\n          <div style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#10B981' }}>\n              {referralStats.completedReferrals}\n            </div>\n            <div style={{ fontSize: '0.8rem', color: '#aaa' }}>Completed</div>\n          </div>\n          <div style={{ textAlign: 'center' }}>\n            <div style={{ fontSize: '2rem', fontWeight: 'bold', color: '#FFB000' }}>\n              {referralStats.totalWingsEarned}\n            </div>\n            <div style={{ fontSize: '0.8rem', color: '#aaa' }}>WINGS Earned</div>\n          </div>\n        </div>\n\n        {/* Referral Code Display */}\n        <div style={{\n          background: 'rgba(255, 176, 0, 0.1)',\n          border: '1px solid rgba(255, 176, 0, 0.3)',\n          borderRadius: '12px',\n          padding: '1rem',\n          marginBottom: '1rem',\n          textAlign: 'center'\n        }}>\n          <div style={{ fontSize: '0.9rem', color: '#aaa', marginBottom: '0.5rem' }}>\n            Your Referral Code\n          </div>\n          {referralLoading ? (\n            <div style={{ \n              fontSize: '1.2rem', \n              color: '#aaa',\n              padding: '1rem'\n            }}>\n              Generating your code...\n              <div style={{ \n                fontSize: '0.8rem', \n                color: '#666',\n                marginTop: '0.5rem'\n              }}>\n                This may take a few seconds...\n              </div>\n            </div>\n          ) : referralCode ? (\n            <>\n              <div style={{ \n                fontSize: '1.5rem', \n                fontWeight: 'bold', \n                color: '#FFD700',\n                fontFamily: 'monospace',\n                letterSpacing: '2px'\n              }}>\n                {referralCode}\n              </div>\n              <div style={{ fontSize: '0.8rem', color: '#aaa', marginTop: '0.5rem' }}>\n                Share this code to earn 50 WINGS per completed referral\n              </div>\n            </>\n          ) : (\n            <div style={{ \n              fontSize: '1rem', \n              color: '#e74c3c',\n              padding: '1rem'\n            }}>\n              Failed to generate referral code. Please refresh the page.\n            </div>\n          )}\n        </div>\n\n        {/* Recent Referrals */}\n        {referralHistory.length > 0 ? (\n          <ReferralList>\n            <div style={{ fontSize: '1rem', fontWeight: 'bold', marginBottom: '1rem', color: '#fff' }}>\n              Recent Referrals\n            </div>\n            {referralHistory.slice(0, 3).map((referral) => (\n              <ReferralItem key={referral.id}>\n                <ReferralIcon></ReferralIcon>\n                <ReferralContent>\n                  <ReferralTitle>{referral.refereeName}</ReferralTitle>\n                  <ReferralDescription>\n                    Joined {new Date(referral.createdAt).toLocaleDateString()}\n                  </ReferralDescription>\n                </ReferralContent>\n                <ReferralMeta>\n                  <ReferralStatus style={{\n                    color: referral.status === 'completed' ? '#10B981' : '#FFB000'\n                  }}>\n                    {referral.status === 'completed' ? 'Completed' : 'Pending'}\n                  </ReferralStatus>\n                  {referral.rewardGiven && referral.wingsEarned > 0 && (\n                    <ReferralReward>+{referral.wingsEarned} WINGS</ReferralReward>\n                  )}\n                </ReferralMeta>\n              </ReferralItem>\n            ))}\n            {referralHistory.length > 3 && (\n              <div style={{ textAlign: 'center', marginTop: '1rem', color: '#aaa', fontSize: '0.9rem' }}>\n                +{referralHistory.length - 3} more referrals\n              </div>\n            )}\n          </ReferralList>\n        ) : (\n          <div style={{ textAlign: 'center', color: '#aaa', marginBottom: '1rem' }}>\n            No referrals yet. Share your code to start earning!\n          </div>\n        )}\n\n        <ShareReferralButton \n          onClick={() => {\n            if (referralCode) {\n              shareReferral(referralCode);\n            } else {\n              console.log(' No referral code available to share');\n              alert('Referral code not ready yet. Please wait a moment and try again.');\n            }\n          }}\n          disabled={!referralCode}\n          style={{ \n            opacity: referralCode ? 1 : 0.6,\n            cursor: referralCode ? 'pointer' : 'not-allowed'\n          }}\n        >\n          {referralLoading ? 'Loading...' : 'Share Referral Code'}\n        </ShareReferralButton>\n      </SectionCard>\n\n      <SectionCard as=\"button\" onClick={() => setShowActivityModal(true)} style={{ cursor: 'pointer' }}>\n        <SectionTitle>Recent Activity</SectionTitle>\n        <ActivityList>\n          {transactions.map((tx, i) => {\n            const getActivityType = (type) => {\n              if (type.includes('Scan')) return 'scan';\n              if (type.includes('Purchase')) return 'purchase';\n              if (type.includes('Daily')) return 'daily';\n              return 'scan';\n            };\n            \n            const getActivityIcon = (type) => {\n              if (type.includes('Scan')) return '';\n              if (type.includes('Purchase')) return '';\n              if (type.includes('Daily')) return '';\n              return '';\n            };\n            \n            return (\n              <ActivityItem key={i}>\n                <ActivityIcon $type={getActivityType(tx.type)}>\n                  {getActivityIcon(tx.type)}\n                </ActivityIcon>\n                <ActivityContent>\n                  <ActivityTitle>{tx.type}</ActivityTitle>\n                  <ActivityDescription>Transaction completed successfully</ActivityDescription>\n                </ActivityContent>\n                <ActivityMeta>\n                  <ActivityStatus>{tx.status}</ActivityStatus>\n                  <ActivityAmount $positive={tx.positive}>{tx.amount}</ActivityAmount>\n                  <ActivityDate>{tx.date}</ActivityDate>\n                </ActivityMeta>\n              </ActivityItem>\n            );\n          })}\n        </ActivityList>\n        <div style={{ \n          textAlign: 'center', \n          marginTop: '24px', \n          color: '#FFD700', \n          fontSize: '0.9rem',\n          fontWeight: '500'\n        }}>\n          Click to view all activity \n        </div>\n      </SectionCard>\n\n      <ReferralModal \n        open={showReferralModal} \n        onClose={() => setShowReferralModal(false)} \n        user={user}\n      />\n\n      <RecentActivityModal \n        isOpen={showActivityModal} \n        onClose={() => setShowActivityModal(false)} \n      />\n\n      {isAdmin && (\n        <AdminButton onClick={() => navigate('/admin')}>\n          Admin Dashboard\n        </AdminButton>\n      )}\n      \n      {/* Navigation Bar */}\n      <NavBar />\n    </Container>\n  );\n}\n\nexport default ProfileScreen; ","import { useState, useEffect, useCallback, useRef } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport { useAuth } from './useAuth';\n\nconst supabase = createClient(\n  process.env.REACT_APP_SUPABASE_URL,\n  process.env.REACT_APP_SUPABASE_ANON_KEY\n);\n\nexport const useReferrals = () => {\n  const { user } = useAuth();\n  const [referralCode, setReferralCode] = useState(null);\n  const [referralStats, setReferralStats] = useState({\n    totalReferrals: 0,\n    pendingReferrals: 0,\n    completedReferrals: 0,\n    totalWingsEarned: 0\n  });\n  const [referralHistory, setReferralHistory] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [referralLoading, setReferralLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const hasInitializedRef = useRef(false);\n  const isProcessingRef = useRef(false);\n  const lastUserRef = useRef(null);\n  const setReferralCodeTimeoutRef = useRef(null);\n\n\n  // Generate referral code from username/email\n  const generateReferralCode = useCallback((user) => {\n    if (!user) return null;\n\n    const username = user.user_metadata?.username || user.email?.split('@')[0] || 'user';\n    const cleanUsername = username.toLowerCase().replace(/[^a-z0-9]/g, '');\n    const shortCode = cleanUsername.substring(0, 6);\n    const randomSuffix = Math.random().toString(36).substring(2, 5);\n\n    return `${shortCode}${randomSuffix}`.toUpperCase();\n  }, []);\n\n  // Optimized referral code generation with aggressive fallbacks\n  const ensureReferralCode = useCallback(async () => {\n    if (!user) return;\n\n    setReferralLoading(true);\n\n    try {\n      console.log(' Ensuring referral code for user:', user.id);\n\n      // Check if we already have a cached referral code\n      const cachedCode = localStorage.getItem(`referral_${user.id}`);\n      if (cachedCode) {\n        try {\n          const parsed = JSON.parse(cachedCode);\n          const cacheAge = Date.now() - parsed.timestamp;\n          if (cacheAge < 30 * 60 * 1000) { // 30 minutes cache\n            console.log(' Using cached referral code:', parsed.code);\n            setReferralCode(parsed.code);\n            setReferralLoading(false);\n            return;\n          }\n        } catch (e) {\n          console.log(' Cache parse error, proceeding with fresh generation');\n        }\n      }\n\n      // Try database query with very short timeout\n      let dbCode = null;\n      let dbError = null;\n\n      try {\n        const timeoutPromise = new Promise((_, reject) =>\n          setTimeout(() => reject(new Error('Referral code generation timeout')), 3000) // Very short timeout\n        );\n\n        const queryPromise = supabase\n          .from('user_profiles')\n          .select('referral_code')\n          .eq('id', user.id)\n          .single();\n\n        const { data: profile, error } = await Promise.race([queryPromise, timeoutPromise]);\n\n        if (!error && profile?.referral_code) {\n          dbCode = profile.referral_code;\n          console.log(' Database query successful, found code:', dbCode);\n        } else {\n          dbError = error;\n          console.log(' Database query failed or no code found:', error);\n        }\n      } catch (timeoutError) {\n        console.log(' Database query timed out, using fallback');\n        dbError = timeoutError;\n      }\n\n      // Process the referral code\n      let finalCode;\n\n      if (dbCode) {\n        // Use database code\n        finalCode = dbCode;\n        console.log(' Using database code:', finalCode);\n      } else {\n        // Generate fallback code\n        console.log(' Generating fallback referral code');\n        finalCode = generateLocalReferralCode();\n        console.log(' Generated fallback code:', finalCode);\n      }\n\n      // Cache the code\n      localStorage.setItem(`referral_${user.id}`, JSON.stringify({\n        code: finalCode,\n        timestamp: Date.now()\n      }));\n\n      setReferralCode(finalCode);\n      setReferralLoading(false);\n\n    } catch (error) {\n      console.error(' Critical error ensuring referral code:', error);\n\n      // Last resort fallback\n      const fallbackCode = generateLocalReferralCode();\n      console.log(' Using last resort fallback code:', fallbackCode);\n\n      localStorage.setItem(`referral_${user.id}`, JSON.stringify({\n        code: fallbackCode,\n        timestamp: Date.now()\n      }));\n\n      setReferralCode(fallbackCode);\n      setReferralLoading(false);\n    }\n  }, [user]);\n\n  // Helper function to generate a local referral code\n  const generateLocalReferralCode = () => {\n    const timestamp = Date.now().toString(36);\n    const random = Math.random().toString(36).substring(2, 8);\n    return `MONARCH${timestamp}${random}`.toUpperCase();\n  };\n\n  // Load referral statistics\n  const loadReferralStats = useCallback(async () => {\n    if (!user) return;\n\n    try {\n      setLoading(true);\n\n      // Get referral statistics\n      const { data: referrals, error: referralsError } = await supabase\n        .from('referrals')\n        .select('status, created_at, referrer_reward_given, referrer_wings_earned')\n        .eq('referrer_id', user.id);\n\n      if (referralsError) throw referralsError;\n\n      // Get user profile data\n      const { data: profile, error: profileError } = await supabase\n        .from('user_profiles')\n        .select('total_referrals, referral_wings_earned')\n        .eq('id', user.id)\n        .single();\n\n      if (profileError && profileError.code !== 'PGRST116') {\n        throw profileError;\n      }\n\n      const stats = {\n        totalReferrals: referrals?.length || 0,\n        pendingReferrals: referrals?.filter(r => r.status === 'pending').length || 0,\n        completedReferrals: referrals?.filter(r => r.status === 'completed').length || 0,\n        totalWingsEarned: profile?.referral_wings_earned || 0\n      };\n\n      setReferralStats(stats);\n\n    } catch (error) {\n      console.error('Error loading referral stats:', error);\n      setError(error.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [user]);\n\n  // Load referral history with user details\n  const loadReferralHistory = useCallback(async () => {\n    if (!user) return;\n\n    try {\n      const { data: referrals, error } = await supabase\n        .from('referrals')\n        .select(`\n          *,\n          referee:referee_id (\n            email,\n            user_metadata\n          )\n        `)\n        .eq('referrer_id', user.id)\n        .order('created_at', { ascending: false });\n\n      if (error) throw error;\n\n      const formattedHistory = referrals?.map(referral => ({\n        id: referral.id,\n        refereeName: referral.referee?.user_metadata?.username ||\n                    referral.referee?.email?.split('@')[0] ||\n                    'User',\n        refereeEmail: referral.referee?.email,\n        status: referral.status,\n        createdAt: referral.created_at,\n        completedAt: referral.completed_at,\n        rewardGiven: referral.referrer_reward_given,\n        wingsEarned: referral.referrer_wings_earned || 0\n      })) || [];\n\n      setReferralHistory(formattedHistory);\n\n    } catch (error) {\n      console.error('Error loading referral history:', error);\n      setError(error.message);\n    }\n  }, [user]);\n\n  // Process referral signup (called when someone signs up with a code)\n  const processReferralSignup = useCallback(async (referralCode, newUserId) => {\n    if (!referralCode || !newUserId) return;\n\n    try {\n      console.log(' Processing referral signup:', { referralCode, newUserId });\n\n      // Find the referrer\n      const { data: codeData, error: codeError } = await supabase\n        .from('referral_codes')\n        .select('user_id')\n        .eq('referral_code', referralCode.toUpperCase())\n        .eq('is_active', true)\n        .single();\n\n      if (codeError || !codeData) {\n        console.warn('Invalid referral code:', referralCode);\n        return { success: false, error: 'Invalid referral code' };\n      }\n\n      // Don't allow self-referral\n      if (codeData.user_id === newUserId) {\n        console.warn('Self-referral attempt blocked');\n        return { success: false, error: 'Cannot refer yourself' };\n      }\n\n      let welcomeBonus = 25; // WINGS for joining via referral\n\n      // Create referral record\n      const { data: referralData, error: referralError } = await supabase\n        .from('referrals')\n        .insert([\n          {\n            referrer_id: codeData.user_id,\n            referee_id: newUserId,\n            referral_code: referralCode.toUpperCase(),\n            status: 'pending',\n            referee_wings_earned: welcomeBonus\n          }\n        ])\n        .select()\n        .single();\n\n      if (referralError) throw referralError;\n\n      // Award welcome bonus to referee using RPC\n      const { error: wingsError } = await supabase.rpc('add_wings_to_user', {\n        user_id_param: newUserId,\n        wings_amount: welcomeBonus,\n        activity_type_param: 'referral_bonus',\n        description_param: `Welcome bonus for joining via referral code: ${referralCode}`\n      });\n\n      if (wingsError) {\n        console.warn('Failed to award welcome bonus:', wingsError);\n      }\n\n      console.log(' Referral signup processed successfully');\n      return { success: true, data: referralData, bonusAmount: welcomeBonus };\n\n    } catch (error) {\n      console.error('Error processing referral signup:', error);\n      return { success: false, error: error.message };\n    }\n  }, []);\n\n  // Complete referral (called when referee completes their first action)\n  const completeReferral = useCallback(async (refereeId) => {\n    try {\n      console.log(' Attempting to complete referral for referee:', refereeId);\n\n      // Find pending referral for this referee\n      const { data: referral, error: findError } = await supabase\n        .from('referrals')\n        .select('*')\n        .eq('referee_id', refereeId)\n        .eq('status', 'pending')\n        .single();\n\n      if (findError || !referral) {\n        console.log('No pending referral found for referee:', refereeId);\n        return { success: false, message: 'No pending referral found' };\n      }\n\n      let referrerReward = 50; // WINGS for successful referral\n      let refereeReward = 25;  // Additional WINGS for first action\n\n      // Update referral as completed\n      const { error: updateError } = await supabase\n        .from('referrals')\n        .update({\n          status: 'completed',\n          completed_at: new Date().toISOString(),\n          referrer_reward_given: true,\n          referee_reward_given: true,\n          referrer_wings_earned: referrerReward,\n          referee_wings_earned: (referral.referee_wings_earned || 0) + refereeReward\n        })\n        .eq('id', referral.id);\n\n      if (updateError) throw updateError;\n\n      // Award WINGS to both users using RPC\n      await Promise.all([\n        // Referrer reward\n        supabase.rpc('add_wings_to_user', {\n          user_id_param: referral.referrer_id,\n          wings_amount: referrerReward,\n          activity_type_param: 'referral',\n          description_param: `Referral completed - friend completed first scan`\n        }),\n        // Referee additional reward\n        supabase.rpc('add_wings_to_user', {\n          user_id_param: refereeId,\n          wings_amount: refereeReward,\n          activity_type_param: 'referral_bonus',\n          description_param: `First scan bonus - referred user reward`\n        })\n      ]);\n\n      // Update referrer's referral count\n      await supabase\n        .from('user_profiles')\n        .update({\n          total_referrals: supabase.raw('COALESCE(total_referrals, 0) + 1')\n        })\n        .eq('id', referral.referrer_id);\n\n      console.log(' Referral completed successfully');\n      return { success: true, referrerReward, refereeReward };\n\n    } catch (error) {\n      console.error('Error completing referral:', error);\n      return { success: false, error: error.message };\n    }\n  }, []);\n\n  // Generate referral link\n  const generateReferralLink = useCallback((code) => {\n    if (!code) return '';\n    const baseUrl = window.location.origin;\n    return `${baseUrl}/join/${code}`;\n  }, []);\n\n  // Share referral\n  const shareReferral = useCallback(async (code) => {\n    const referralLink = generateReferralLink(code);\n    \n    let shareText = `Join me on Monarch Passport! \\n\\nEarn exclusive fashion rewards by scanning QR codes. Use my code: ${code}`;\n    \n    if (navigator.share) {\n      try {\n        await navigator.share({\n          title: 'Join Monarch Passport',\n          text: shareText,\n          url: referralLink\n        });\n        return { success: true };\n      } catch (error) {\n        if (error.name !== 'AbortError') {\n          console.log('Share failed:', error);\n        }\n      }\n    }\n\n    // Fallback: copy to clipboard\n    try {\n      await navigator.clipboard.writeText(`${shareText}\\n\\n${referralLink}`);\n      return { success: true, copied: true };\n    } catch (error) {\n      console.error('Failed to copy to clipboard:', error);\n      return { success: false, link: referralLink };\n    }\n  }, [generateReferralLink]);\n\n  // Initialize\n  useEffect(() => {\n    console.log(' useReferrals useEffect triggered, user:', user?.id);\n    \n    // Prevent unnecessary re-runs for the same user\n    if (user?.id === lastUserRef.current) {\n      console.log(' Same user, skipping initialization');\n      return;\n    }\n    \n    lastUserRef.current = user?.id;\n    \n    if (user) {\n      console.log(' User found, calling ensureReferralCode...');\n      ensureReferralCode();\n      loadReferralStats();\n      loadReferralHistory();\n    } else {\n      console.log(' No user found, resetting referral state');\n      setReferralCode(null);\n      setReferralStats({\n        totalReferrals: 0,\n        pendingReferrals: 0,\n        completedReferrals: 0,\n        totalWingsEarned: 0\n      });\n      setReferralHistory([]);\n      setLoading(false);\n      setReferralLoading(false);\n      hasInitializedRef.current = false; // Reset for next user\n      isProcessingRef.current = false; // Reset for next user\n    }\n  }, [user, ensureReferralCode]); // Only depend on user, not the callback functions\n\n  // Cleanup timeouts on unmount\n  useEffect(() => {\n    return () => {\n      if (setReferralCodeTimeoutRef.current) {\n        clearTimeout(setReferralCodeTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  return {\n    referralCode,\n    referralStats,\n    referralHistory,\n    loading,\n    referralLoading,\n    setReferralLoading,\n    error,\n    processReferralSignup,\n    completeReferral,\n    generateReferralLink,\n    shareReferral,\n    refreshData: () => {\n      loadReferralStats();\n      loadReferralHistory();\n    }\n  };\n};"],"names":["goldGlow","keyframes","_templateObject","_taggedTemplateLiteral","styled","div","_templateObject2","_ref","_theme$colors","_theme$colors$glass","theme","colors","glass","background","_ref2","_theme$colors2","_theme$colors2$accent","accent","gold","_ref3","_theme$colors3","_theme$colors3$accent","liquidBrand","Nav","nav","NavContainer","_templateObject3","NavItem","Link","_templateObject4","$isActive","IconContainer","_templateObject5","Label","span","_templateObject6","_ref4","_ref5","_theme$colors$accent","purple","ActiveIndicator","_templateObject7","_ref6","_ref7","ScanButtonContainer","_templateObject8","ScanButton","_templateObject9","NavBar","location","useLocation","navItems","path","icon","label","getIcon","iconName","isActive","color","_jsxs","viewBox","fill","stroke","children","_jsx","d","points","cx","cy","r","slice","map","item","pathname","to","button","typography","fontFamily","heading","fontSize","body","fontWeight","bold","animation","duration","normal","_ref8","timing","smooth","_ref9","_ref0","effects","neonGlow","_ref1","_ref10","supabase","createClient","process","ModalOverlay","ModalCard","GlassCard","ModalHeader","ModalTitle","h2","text","primary","FilterTabs","FilterTab","$active","small","medium","_ref11","_ref12","_ref13","_ref14","ModalBody","ActivityList","ActivityItem","_ref15","_ref16","_ref17","_ref18","ActivityIcon","_templateObject0","_ref19","$type","pink","green","cyan","ActivityContent","_templateObject1","ActivityTitle","_templateObject10","_ref20","_ref21","_ref22","_ref23","ActivityDescription","_templateObject11","_ref24","_ref25","secondary","_ref26","ActivityMeta","_templateObject12","WingsEarned","_templateObject13","_ref27","_ref28","_ref29","_ref30","ActivityDate","_templateObject14","_ref31","_ref32","EmptyState","_templateObject15","_ref33","_ref34","_ref35","CloseButton","_templateObject16","_ref36","_ref37","_ref38","_ref39","_ref40","_ref41","_ref42","_ref43","_ref44","ACTIVITY_FILTERS","key","_ref45","isOpen","onClose","user","useAuth","activities","setActivities","useState","loading","setLoading","activeFilter","setActiveFilter","allActivities","setAllActivities","isInitializedRef","useRef","isProcessingRef","useEffect","current","fetchAllActivities","length","console","log","mockActivities","id","activity_type","activity_title","activity_description","wings_earned","activity_date","Date","now","toISOString","filterActivities","useCallback","async","data","error","from","select","eq","order","ascending","limit","filtered","filter","activity","formatDate","dateString","date","diffInHours","concat","Math","floor","toLocaleDateString","getActivityIcon","type","find","f","onClick","e","stopPropagation","Container","TopRow","ProfileHeader","Avatar","gradients","ProfileName","BalanceCard","BalanceLabel","BalanceValue","SectionCard","SectionTitle","value","slow","_templateObject17","_templateObject18","_templateObject19","_templateObject20","ModalButton","_templateObject21","ModalClose","_templateObject22","ReferralList","_templateObject23","_templateObject24","ReferralItem","_templateObject25","ReferralIcon","_templateObject26","ReferralContent","_templateObject27","ReferralTitle","_templateObject28","ReferralDescription","_templateObject29","ReferralMeta","_templateObject30","ReferralStatus","_templateObject31","ReferralReward","_templateObject32","ShareReferralButton","_templateObject33","_templateObject34","_templateObject35","_templateObject36","_templateObject37","_templateObject38","_templateObject39","_ref46","_ref47","_templateObject40","ActivityStatus","_templateObject41","_ref48","_ref49","_ref50","_ref51","ActivityAmount","_templateObject42","_ref52","_ref53","$positive","_ref54","_ref55","_templateObject43","_ref56","_ref57","AdminButton","_templateObject44","_templateObject45","_ref58","_templateObject46","_ref59","_ref60","_ref61","_ref62","ReferralModal","_ref63","open","referralCode","generateReferralLink","shareReferral","useReferrals","copied","setCopied","target","currentTarget","style","width","textAlign","marginTop","border","borderRadius","padding","marginBottom","letterSpacing","display","flexDirection","gap","success","setTimeout","window","_user$user_metadata3","_user$user_metadata4","_user$email3","_profile$totalWings","showReferralModal","setShowReferralModal","showActivityModal","setShowActivityModal","profile","setProfile","navigate","useNavigate","isAdmin","authProfile","referralStats","referralHistory","referralLoading","useTheme","_user$user_metadata","_user$email","name","username","user_metadata","email","split","avatar","avatar_url","joinDate","created_at","totalWings","wings_balance","level","achievements","items","_user$user_metadata2","_user$email2","min","invited","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","charAt","toUpperCase","toLocaleString","gridTemplateColumns","totalReferrals","completedReferrals","totalWingsEarned","_Fragment","referral","refereeName","createdAt","status","rewardGiven","wingsEarned","alert","disabled","opacity","cursor","as","amount","positive","tx","i","includes","RecentActivityModal","setReferralCode","setReferralStats","pendingReferrals","setReferralHistory","setReferralLoading","setError","hasInitializedRef","lastUserRef","setReferralCodeTimeoutRef","ensureReferralCode","shortCode","toLowerCase","replace","substring","randomSuffix","random","toString","cachedCode","localStorage","getItem","parsed","JSON","parse","timestamp","code","finalCode","dbCode","dbError","timeoutPromise","Promise","_","reject","Error","queryPromise","single","race","referral_code","timeoutError","generateLocalReferralCode","setItem","stringify","fallbackCode","loadReferralStats","referrals","referralsError","profileError","stats","referral_wings_earned","message","loadReferralHistory","formattedHistory","_referral$referee","_referral$referee$use","_referral$referee2","_referral$referee2$em","_referral$referee3","referee","refereeEmail","completedAt","completed_at","referrer_reward_given","referrer_wings_earned","processReferralSignup","newUserId","codeData","codeError","warn","user_id","welcomeBonus","referralData","referralError","insert","referrer_id","referee_id","referee_wings_earned","wingsError","rpc","user_id_param","wings_amount","activity_type_param","description_param","bonusAmount","completeReferral","refereeId","findError","referrerReward","refereeReward","updateError","update","referee_reward_given","all","total_referrals","raw","baseUrl","origin","referralLink","shareText","navigator","share","title","url","clipboard","writeText","link","clearTimeout","refreshData"],"sourceRoot":""}