"use strict";(self.webpackChunkmonarch_passport_mvp=self.webpackChunkmonarch_passport_mvp||[]).push([[452],{2452:(e,n,o)=>{o.r(n),o.d(n,{default:()=>h});var i,r,t,s=o(7528),a=o(5043),c=o(3216),l=o(2507),m=o(5464),d=o(579);const g=(0,l.UU)("https://ywagbnjejhpdujkftbxq.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl3YWdibmplamhwZHVqa2Z0YnhxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDk4MjY3NDQsImV4cCI6MjA2NTQwMjc0NH0.veG_QjcIYid1p7R13ERwz9r02VgkkHTOHxW14hnYuBo"),u=m.Ay.div(i||(i=(0,s.A)(["\n  min-height: 100vh;\n  background: linear-gradient(135deg, #000000 0%, #4C1C8C 100%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n"]))),p=m.Ay.div(r||(r=(0,s.A)(["\n  text-align: center;\n  color: #FFFFFF;\n  font-size: 1.2rem;\n  margin-bottom: 2rem;\n  font-family: 'Outfit', sans-serif;\n  font-weight: 500;\n"]))),f=m.Ay.div(t||(t=(0,s.A)(["\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  border-left: 4px solid #FFB000;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 2rem;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n"]))),h=()=>{const e=(0,c.Zp)(),[n,o]=(0,a.useState)("\ud83e\udd8b Confirming your account...");return(0,a.useEffect)(()=>{(async()=>{try{console.log("\ud83d\udd04 Processing auth callback...");const{data:n,error:i}=await g.auth.getSession();if(i)return console.error("\u274c Auth callback error:",i),o("\u274c Confirmation failed. Redirecting to login..."),void setTimeout(()=>{e("/login?error=confirmation-failed")},3e3);n.session?(console.log("\u2705 Email confirmed, user logged in"),o("\u2705 Email confirmed! Welcome to Monarch Passport!"),setTimeout(()=>{e("/",{state:{message:"\ud83c\udf89 Email confirmed! Welcome to Monarch Passport!"}})},2e3)):(console.log("\u2139\ufe0f No active session, redirecting to login"),o("Please log in to continue..."),setTimeout(()=>{e("/login?message=please-login")},2e3))}catch(n){console.error("\ud83d\udca5 Unexpected error in auth callback:",n),o("An unexpected error occurred. Redirecting..."),setTimeout(()=>{e("/login?error=unexpected-error")},3e3)}})()},[e]),(0,d.jsxs)(u,{children:[(0,d.jsx)(f,{}),(0,d.jsx)(p,{children:n})]})}}}]);
//# sourceMappingURL=452.5d6fd075.chunk.js.map