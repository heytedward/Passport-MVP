{"version":3,"file":"static/js/666.5c0a0a6c.chunk.js","mappings":"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","sources":["screens/ClosetScreen.jsx","hooks/useCloset.js","components/GlassCard.jsx","components/NavBar.jsx"],"sourcesContent":["import React, { useState, useMemo, useCallback, memo } from 'react';\nimport styled from 'styled-components';\nimport { useNavigate } from 'react-router-dom';\nimport GlassCard from '../components/GlassCard';\nimport { useTheme } from '../hooks/useTheme';\nimport { useCloset } from '../hooks/useCloset';\nimport { useAuth } from '../hooks/useAuth';\nimport { gradientThemes } from '../styles/theme';\nimport NavBar from '../components/NavBar';\n\n\n\n// Item details for the flip cards\nconst itemBackDetails = {\n  \"Spring Jacket\": {\n    obtained: \"Scanned QR at Papillon Flagship Store\",\n    date: \"March 15, 2025\", \n    location: \"SoHo, NYC\",\n    season: \"Spring 2025\"\n  },\n  \"Gold Chain\": {\n    obtained: \"Scanned QR at Papillon Pop-up Store\",\n    date: \"March 12, 2025\",\n    location: \"Times Square, NYC\", \n    season: \"Spring 2025\"\n  },\n  \"Summer Hat\": {\n    obtained: \"Scanned QR at Papillon Beach Event\",\n    date: \"March 10, 2025\",\n    location: \"Montauk, NY\",\n    season: \"Summer 2025\"\n  },\n  \"Classic Hoodie\": {\n    obtained: \"Scanned QR at Papillon Street Event\",\n    date: \"March 8, 2025\",\n    location: \"Brooklyn, NYC\",\n    season: \"Classic Collection\"\n  },\n  \"Denim Jeans\": {\n    obtained: \"Scanned QR at Papillon Denim Launch\",\n    date: \"March 5, 2025\",\n    location: \"LES, NYC\",\n    season: \"Spring 2025\"\n  },\n  \"Long Sleeve Tee\": {\n    obtained: \"Scanned QR at Papillon Essential Drop\",\n    date: \"March 1, 2025\",\n    location: \"Papillon Studio\",\n    season: \"Classic Collection\"\n  },\n\n  \"Butterfly Wallpaper\": {\n    obtained: \"Community Event Reward\",\n    date: \"March 22, 2025\",\n    location: \"Digital Drop\",\n    season: \"Genesis Collection\"\n  },\n\n};\n\n// Theme unlock requirements\nconst themeUnlockRequirements = {\n  frequencyPulse: {\n    name: 'Frequency Pulse',\n    description: 'The default theme - available to all users',\n    requirements: ['Sign up for Monarch Passport'],\n    unlocked: true,\n    icon: '🌊',\n    rarity: 'common'\n  },\n  solarShine: {\n    name: 'Solar Shine',\n    description: 'Bright golden energy theme',\n    requirements: ['Scan 10 QR codes', 'Earn 100 WNGS'],\n    unlocked: false,\n    icon: '☀️',\n    rarity: 'rare'\n  },\n  echoGlass: {\n    name: 'Echo Glass',\n    description: 'Mysterious dark glass theme',\n    requirements: ['Complete 5 daily quests', 'Reach level 5'],\n    unlocked: false,\n    icon: '🌑',\n    rarity: 'epic'\n  },\n  retroFrame: {\n    name: 'Retro Frame',\n    description: 'Classic vintage aesthetic',\n    requirements: ['Collect 3 physical items', 'Join community event'],\n    unlocked: false,\n    icon: '📼',\n    rarity: 'rare'\n  },\n  nightScan: {\n    name: 'Night Scan',\n    description: 'Elite scanner theme for night owls',\n    requirements: ['Scan QR code after midnight', 'Earn 500 WNGS', 'Complete weekly challenge'],\n    unlocked: false,\n    icon: '🌙',\n    rarity: 'legendary'\n  }\n};\n\nconst Container = styled.div`\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 2rem 1rem 6rem 1rem;\n  min-height: 100vh;\n  \n  @media (max-width: 768px) {\n    padding: 1rem 0.5rem 6rem 0.5rem;\n  }\n  \n  @media (max-width: 480px) {\n    padding: 0.75rem 0.25rem 6rem 0.25rem;\n  }\n`;\n\nconst ScreenTitle = styled.h1`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  font-weight: 700;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n  text-align: center;\n  \n  @media (max-width: 768px) {\n    font-size: 1.75rem;\n    margin-bottom: 1rem;\n  }\n  \n  @media (max-width: 480px) {\n    font-size: 1.5rem;\n    margin-bottom: 0.75rem;\n  }\n`;\n\nconst MainFilterTabs = styled.div`\n  display: flex;\n  gap: 1rem;\n  margin-bottom: 1.5rem;\n  justify-content: center;\n  \n  @media (max-width: 768px) {\n    gap: 0.75rem;\n    margin-bottom: 1rem;\n  }\n  \n  @media (max-width: 480px) {\n    gap: 0.5rem;\n    margin-bottom: 0.75rem;\n  }\n`;\n\nconst SubFilterTabs = styled.div`\n  display: flex;\n  gap: 0.8rem;\n  margin-bottom: 2rem;\n  overflow-x: auto;\n  padding-bottom: 0.5rem;\n  position: relative;\n  top: 3x;\n  \n  &::-webkit-scrollbar {\n    height: 4px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 2px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: ${({ theme }) => theme.colors.accent.purple};\n    border-radius: 2px;\n  }\n`;\n\nconst FilterTab = styled.button`\n  padding: 0.5rem 2rem;\n  border-radius: 12px;\n  border: 2px solid ${({ active, theme }) => (active ? theme.colors.accent.gold : 'transparent')};\n  background: ${({ active, theme, type }) => {\n    if (active) {\n      return type === 'main' ? theme.colors.accent.gold : theme.colors.accent.purple;\n    }\n    return 'rgba(255, 255, 255, 0.05)';\n  }};\n  color: ${({ active, theme }) => \n    active ? (theme.colors.background === '#000000' ? '#000000' : theme.colors.text.primary) : theme.colors.text.secondary};\n  font-weight: ${({ active }) => active ? '600' : '500'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n  min-width: fit-content;\n  \n  &:hover {\n    background: ${({ active, theme, type }) => {\n      if (active) return null;\n      return type === 'main' ? 'rgba(255, 176, 0, 0.1)' : 'rgba(76, 28, 140, 0.1)';\n    }};\n    transform: translateY(-1px);\n  }\n`;\n\nconst ItemsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(3, 1fr);\n  gap: 12px;\n  margin-bottom: 2rem;\n  \n  @media (max-width: 768px) {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 8px;\n  }\n  \n  @media (max-width: 480px) {\n    grid-template-columns: repeat(3, 1fr);\n    gap: 6px;\n  }\n  \n  @media (max-width: 360px) {\n    grid-template-columns: repeat(2, 1fr);\n    gap: 6px;\n  }\n`;\n\n// Styled components for memoized components\nconst StyledItemCard = styled(GlassCard)`\n  padding: 1.5rem;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  @media (max-width: 768px) {\n    padding: 1rem;\n  }\n  \n  @media (max-width: 480px) {\n    padding: 0.75rem;\n  }\n  border: 3px solid ${({ rarity, theme, isLimitedEdition }) => {\n    if (isLimitedEdition) return '#FFB000';\n    switch(rarity) {\n      case 'legendary': return theme.colors.accent.gold;\n      case 'epic': return '#9B4BFF';\n      case 'rare': return '#4B9CD3';\n      default: return theme.colors.accent.purple;\n    }\n  }};\n  box-shadow: \n    0 0 12px 0 ${({ rarity, isLimitedEdition }) => {\n      if (isLimitedEdition) return 'rgba(255,176,0,0.2)';\n      switch(rarity) {\n        case 'legendary': return 'rgba(255,215,0,0.15)';\n        case 'epic': return 'rgba(155,75,255,0.15)';\n        case 'rare': return 'rgba(75,156,211,0.15)';\n        default: return 'rgba(76,28,140,0.15)';\n      }\n    }},\n    0 0 24px 0 ${({ rarity, isLimitedEdition }) => {\n      if (isLimitedEdition) return 'rgba(255,176,0,0.1)';\n      switch(rarity) {\n        case 'legendary': return 'rgba(255,215,0,0.08)';\n        case 'epic': return 'rgba(155,75,255,0.08)';\n        case 'rare': return 'rgba(75,156,211,0.08)';\n        default: return 'rgba(76,28,140,0.08)';\n      }\n    }},\n    inset 0 1px 0 ${({ rarity }) => {\n      switch(rarity) {\n        case 'legendary': return 'rgba(255,215,0,0.1)';\n        case 'epic': return 'rgba(155,75,255,0.1)';\n        case 'rare': return 'rgba(75,156,211,0.1)';\n        default: return 'rgba(76,28,140,0.1)';\n      }\n    }};\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    box-shadow: \n      0 0 20px 0 ${({ rarity }) => {\n        switch(rarity) {\n          case 'legendary': return 'rgba(255,215,0,0.3)';\n          case 'epic': return 'rgba(155,75,255,0.3)';\n          case 'rare': return 'rgba(75,156,211,0.3)';\n          default: return 'rgba(76,28,140,0.3)';\n        }\n      }},\n      0 0 40px 0 ${({ rarity }) => {\n        switch(rarity) {\n          case 'legendary': return 'rgba(255,215,0,0.15)';\n          case 'epic': return 'rgba(155,75,255,0.15)';\n          case 'rare': return 'rgba(75,156,211,0.15)';\n          default: return 'rgba(76,28,140,0.15)';\n        }\n      }},\n      inset 0 1px 0 ${({ rarity }) => {\n        switch(rarity) {\n          case 'legendary': return 'rgba(255,215,0,0.2)';\n          case 'epic': return 'rgba(155,75,255,0.2)';\n          case 'rare': return 'rgba(75,156,211,0.2)';\n          default: return 'rgba(76,28,140,0.2)';\n        }\n      }};\n  }\n`;\n\nconst StyledFilterTab = styled.button`\n  padding: 0.5rem 2rem;\n  border-radius: 12px;\n  border: 2px solid ${({ active, theme }) => (active ? theme.colors.accent.gold : 'transparent')};\n  background: ${({ active, theme, type }) => {\n    if (active) {\n      return type === 'main' ? theme.colors.accent.gold : theme.colors.accent.purple;\n    }\n    return 'rgba(255, 255, 255, 0.05)';\n  }};\n  color: ${({ active, theme }) => \n    active ? (theme.colors.background === '#000000' ? '#000000' : theme.colors.text.primary) : theme.colors.text.secondary};\n  font-weight: ${({ active }) => active ? '600' : '500'};\n  cursor: pointer;\n  transition: all 0.2s ease;\n  white-space: nowrap;\n  min-width: fit-content;\n  \n  &:hover {\n    background: ${({ active, theme, type }) => {\n      if (active) return null;\n      return type === 'main' ? 'rgba(255, 176, 0, 0.1)' : 'rgba(76, 28, 140, 0.1)';\n    }};\n    transform: translateY(-1px);\n  }\n`;\n\nconst StyledFloatingStatsButton = styled.button`\n  position: fixed;\n  top: 100px;\n  right: 20px;\n  z-index: 1000;\n  background: linear-gradient(135deg, #FFB000, #FFD700);\n  border: none;\n  border-radius: 50px;\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(255, 176, 0, 0.3);\n  transition: all 0.3s ease;\n  font-weight: 600;\n  color: #000;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 25px rgba(255, 176, 0, 0.4);\n  }\n  \n  .stats-icon {\n    font-size: 1.2rem;\n  }\n  \n  .stats-count {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n  \n  @media (max-width: 768px) {\n    top: 80px;\n    right: 15px;\n    padding: 10px 14px;\n    \n    .stats-icon {\n      font-size: 1rem;\n    }\n    \n    .stats-count {\n      font-size: 0.9rem;\n    }\n  }\n`;\n\nconst ItemCard = memo(({ item, onClick, isLimitedEdition }) => (\n  <StyledItemCard \n    rarity={item.rarity}\n    isLimitedEdition={isLimitedEdition}\n    onClick={onClick}\n    style={item.category === 'themes' ? {\n      background: item.gradient,\n      border: item.equipped ? '3px solid #FFD700' : '3px solid rgba(255, 255, 255, 0.2)',\n      opacity: item.unlocked ? 1 : 0.6\n    } : {}}\n  >\n    {/* Mint Number Badge */}\n    {item.mint_number && (\n      <MintNumberBadge>\n        #{item.mint_number}\n      </MintNumberBadge>\n    )}\n    \n    <CardContent>\n      <CardIcon>\n        {item.preview_mp4 && item.file_type === '3d_model' ? (\n          <VideoPreview\n            autoPlay\n            loop\n            muted\n            playsInline\n            src={item.preview_mp4}\n          />\n        ) : (\n          <div style={{ \n            fontSize: item.category === 'themes' ? '3rem' : '3rem',\n            position: 'relative' \n          }}>\n            {getItemIcon(item.category, item.item_type, item)}\n            {item.category === 'themes' && !item.unlocked && (\n              <div style={{\n                position: 'absolute',\n                top: '50%',\n                left: '50%',\n                transform: 'translate(-50%, -50%)',\n                fontSize: '1.5rem',\n                color: '#fff',\n                textShadow: '0 0 4px rgba(0,0,0,0.8)'\n              }}>\n                🔒\n              </div>\n            )}\n            {item.category === 'themes' && item.equipped && (\n              <div style={{\n                position: 'absolute',\n                top: '-10px',\n                right: '-10px',\n                fontSize: '1rem',\n                color: '#FFD700'\n              }}>\n                ✓\n              </div>\n            )}\n          </div>\n        )}\n      </CardIcon>\n      \n      <div>\n        <CardName>{item.name}</CardName>\n        <CardRarity rarity={item.rarity}>{item.rarity}</CardRarity>\n        \n        {/* Theme-specific indicators */}\n        {item.category === 'themes' && item.equipped && (\n          <div style={{ \n            color: '#FFD700', \n            fontSize: '0.6rem', \n            fontWeight: '600',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          }}>\n            ✓ Equipped\n          </div>\n        )}\n        {item.category === 'themes' && !item.unlocked && (\n          <div style={{ \n            color: '#ff6b6b', \n            fontSize: '0.6rem', \n            fontWeight: '600',\n            textTransform: 'uppercase',\n            letterSpacing: '0.5px'\n          }}>\n            🔒 Locked\n          </div>\n        )}\n      </div>\n    </CardContent>\n  </StyledItemCard>\n));\n\n// Memoized FilterTab component\nconst MemoizedFilterTab = memo(({ type, active, onClick, children }) => (\n  <StyledFilterTab \n    type={type}\n    active={active} \n    onClick={onClick}\n  >\n    {children}\n  </StyledFilterTab>\n));\n\n// Memoized FloatingStatsButton component\nconst MemoizedFloatingStatsButton = memo(({ count, onClick }) => (\n  <StyledFloatingStatsButton onClick={onClick}>\n    <span className=\"stats-count\">{count}</span>\n  </StyledFloatingStatsButton>\n));\n\nconst CardIcon = styled.div`\n  width: 100%;\n  height: 60%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 3rem;\n  margin-bottom: 0.5rem;\n  position: relative;\n  \n  @media (max-width: 768px) {\n    font-size: 2.5rem;\n  }\n  \n  @media (max-width: 480px) {\n    font-size: 2rem;\n  }\n`;\n\nconst CardContent = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  text-align: center;\n  flex: 1;\n  justify-content: space-between;\n`;\n\nconst CardName = styled.div`\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 0.5rem;\n  line-height: 1.2;\n  word-wrap: break-word;\n  \n  @media (max-width: 768px) {\n    font-size: 0.8rem;\n  }\n  \n  @media (max-width: 480px) {\n    font-size: 0.75rem;\n  }\n`;\n\nconst CardRarity = styled.div`\n  font-size: 0.7rem;\n  font-weight: 500;\n  color: ${({ rarity, theme }) => {\n    switch(rarity) {\n      case 'legendary': return theme.colors.accent.gold;\n      case 'epic': return '#9B4BFF';\n      case 'rare': return '#4B9CD3';\n      default: return theme.colors.text.secondary;\n    }\n  }};\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  margin-bottom: 0.5rem;\n  \n  @media (max-width: 768px) {\n    font-size: 0.6rem;\n  }\n`;\n\nconst MintNumberBadge = styled.div`\n  position: absolute;\n  bottom: 8px;\n  left: 8px;\n  background: rgba(0, 0, 0, 0.8);\n  color: white;\n  font-size: 0.7rem;\n  font-weight: 600;\n  padding: 2px 6px;\n  border-radius: 8px;\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  \n  @media (max-width: 768px) {\n    font-size: 0.6rem;\n    padding: 1px 4px;\n  }\n`;\n\n\n\n// New styled component for MP4 preview\nconst VideoPreview = styled.video`\n  width: 100%;\n  height: 100%;\n  object-fit: cover;\n  border-radius: 12px;\n`;\n\nconst ItemName = styled.h3`\n  font-family: ${({ theme }) => theme.typography.fontFamily.heading};\n  font-size: 1.1rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin: 0 0 0.5rem 0;\n`;\n\nconst ItemDetails = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  font-size: 0.9rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-bottom: 0.5rem;\n`;\n\nconst ItemCategory = styled.div`\n  font-size: 0.8rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  text-transform: capitalize;\n`;\n\nconst RarityBadge = styled.span`\n  color: ${({ rarity, theme }) => {\n    switch(rarity) {\n      case 'legendary': return theme.colors.accent.gold;\n      case 'epic': return '#9B4BFF';\n      case 'rare': return '#4B9CD3';\n      default: return theme.colors.accent.purple;\n    }\n  }};\n  font-weight: 600;\n  text-transform: capitalize;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 3rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n`;\n\n// Floating Stats Button\nconst FloatingStatsButton = styled.button`\n  position: fixed;\n  top: 100px;\n  right: 20px;\n  z-index: 1000;\n  background: linear-gradient(135deg, #FFB000, #FFD700);\n  border: none;\n  border-radius: 50px;\n  padding: 12px 16px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  cursor: pointer;\n  box-shadow: 0 4px 20px rgba(255, 176, 0, 0.3);\n  transition: all 0.3s ease;\n  font-weight: 600;\n  color: #000;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 6px 25px rgba(255, 176, 0, 0.4);\n  }\n  \n  .stats-icon {\n    font-size: 1.2rem;\n  }\n  \n  .stats-count {\n    font-size: 1rem;\n    font-weight: 700;\n  }\n  \n  @media (max-width: 768px) {\n    top: 80px;\n    right: 15px;\n    padding: 10px 14px;\n    \n    .stats-icon {\n      font-size: 1rem;\n    }\n    \n    .stats-count {\n      font-size: 0.9rem;\n    }\n  }\n`;\n\n// Stats Modal\nconst StatsModal = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 0, 0, 0.8);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 2000;\n  padding: 20px;\n`;\n\nconst ModalContent = styled.div`\n  background: linear-gradient(135deg, rgba(255, 255, 255, 0.1) 0%, rgba(255, 255, 255, 0.05) 100%);\n  backdrop-filter: blur(20px);\n  border: 1px solid rgba(255, 255, 255, 0.2);\n  border-radius: 20px;\n  padding: 2rem;\n  max-width: 400px;\n  width: 100%;\n  max-height: 80vh;\n  overflow-y: auto;\n`;\n\nconst ModalHeader = styled.div`\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 1.5rem;\n  \n  h2 {\n    color: ${({ theme }) => theme.colors.text.primary};\n    margin: 0;\n    font-size: 1.5rem;\n  }\n`;\n\nconst CloseButton = styled.button`\n  background: none;\n  border: none;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  font-size: 1.5rem;\n  cursor: pointer;\n  padding: 0;\n  width: 30px;\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 50%;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n    color: ${({ theme }) => theme.colors.text.primary};\n  }\n`;\n\nconst StatsGrid = styled.div`\n  display: grid;\n  grid-template-columns: repeat(2, 1fr);\n  gap: 1rem;\n`;\n\nconst StatItem = styled.div`\n  text-align: center;\n  padding: 1rem;\n  background: rgba(255, 255, 255, 0.05);\n  border-radius: 12px;\n  border: 1px solid rgba(255, 255, 255, 0.1);\n`;\n\nconst StatLabel = styled.div`\n  font-size: 0.8rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-bottom: 0.5rem;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n`;\n\nconst StatValue = styled.div`\n  font-size: 1.5rem;\n  font-weight: 700;\n  color: ${({ theme }) => theme.colors.text.primary};\n`;\n\nconst Stats = styled.div`\n  display: flex;\n  gap: 2rem;\n  justify-content: center;\n  margin-bottom: 2rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n`;\n\nconst LimitedEditionStats = styled.div`\n  background: linear-gradient(135deg, rgba(255, 176, 0, 0.1) 0%, rgba(255, 159, 28, 0.1) 100%);\n  border: 1px solid rgba(255, 176, 0, 0.3);\n  border-radius: 16px;\n  padding: 1.5rem;\n  margin-bottom: 2rem;\n  text-align: center;\n\n  h3 {\n    color: ${({ theme }) => theme.colors.accent.gold};\n    font-size: 1.2rem;\n    margin-bottom: 1rem;\n    font-weight: 700;\n  }\n\n  .stats-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n    gap: 1rem;\n    margin-bottom: 1rem;\n  }\n\n  .stat-item {\n    text-align: center;\n    \n    .label {\n      font-size: 0.8rem;\n      color: ${({ theme }) => theme.colors.text.secondary};\n      margin-bottom: 0.25rem;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n    }\n    \n    .value {\n      font-size: 1.2rem;\n      font-weight: 700;\n      color: ${({ theme }) => theme.colors.text.primary};\n    }\n  }\n\n  .exclusivity-breakdown {\n    display: flex;\n    justify-content: center;\n    gap: 0.5rem;\n    flex-wrap: wrap;\n  }\n`;\n\n// Modal Styles (copied exactly from PassportScreen)\nconst ModalOverlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(18, 18, 18, 0.3);\n  backdrop-filter: blur(20px);\n  -webkit-backdrop-filter: blur(20px);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 24px;\n`;\n\nconst ModalCard = styled.div`\n  width: 420px;\n  max-width: 90vw;\n  height: 600px;\n  max-height: 90vh;\n  perspective: 1200px;\n  background: none;\n  border-radius: 24px;\n  @media (max-width: 480px) {\n    width: 95vw;\n    height: 520px;\n    min-width: 0;\n    padding: 0;\n  }\n`;\n\nconst FlipInner = styled.div`\n  width: 100%;\n  height: 100%;\n  position: relative;\n  transition: transform 0.7s cubic-bezier(0.4,0.2,0.2,1);\n  transform-style: preserve-3d;\n  ${({ isflipped }) => isflipped && `transform: rotateY(180deg);`}\n`;\n\nconst Face = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  backface-visibility: hidden;\n  border-radius: 24px;\n  background: linear-gradient(135deg, rgba(30,30,40,0.85) 0%, rgba(76,28,140,0.13) 100%), rgba(76, 28, 140, 0.15);\n  border: 3px solid #FFD700;\n  box-shadow: \n    0 0 20px 0 rgba(255,215,0,0.2),\n    0 0 40px 0 rgba(255,215,0,0.1),\n    inset 0 1px 0 rgba(255,215,0,0.15);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 3rem 2rem 2rem 2rem;\n`;\n\nconst FrontFace = styled(Face)``;\nconst BackFace = styled(Face)`\n  transform: rotateY(180deg);\n`;\n\nconst ModalCloseButton = styled.button`\n  position: absolute;\n  top: 16px;\n  right: 16px;\n  background: none;\n  border: none;\n  color: white;\n  font-size: 24px;\n  cursor: pointer;\n  z-index: 1;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\nconst LargeItemIcon = styled.div`\n  font-size: 6rem;\n  margin-bottom: 2rem;\n`;\n\nconst LargeVideoPreview = styled.video`\n  width: 200px;\n  height: 200px;\n  object-fit: cover;\n  border-radius: 16px;\n  margin-bottom: 2rem;\n`;\n\nconst ModalTitle = styled.h2`\n  font-size: 1.8rem;\n  font-weight: 700;\n  color: ${({ theme }) => theme.colors.text.primary};\n  margin-bottom: 1rem;\n  text-align: center;\n`;\n\nconst ModalHint = styled.div`\n  font-size: 1.1rem;\n  color: #FFD700;\n  margin-top: 2rem;\n  text-align: center;\n`;\n\nconst ModalDetails = styled.div`\n  margin-top: 0.8rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.2rem;\n  text-align: center;\n  line-height: 1.6;\n`;\n\nconst ModalDetailLabel = styled.span`\n  color: #FFD700;\n  font-weight: 600;\n`;\n\nconst ModalDescription = styled.div`\n  margin-top: 1rem;\n  color: ${({ theme }) => theme.colors.text.primary};\n  font-size: 1.1rem;\n  text-align: center;\n  line-height: 1.8;\n`;\n\nconst Description = styled.div`\n  font-size: 1rem;\n  color: ${({ theme }) => theme.colors.text.secondary};\n  margin-top: 1rem;\n  text-align: center;\n  line-height: 1.6;\n`;\n\n// Item Modal Component (using exact passport logic)\nconst ItemModal = ({ item, isOpen, onClose }) => {\n  const { switchTheme, currentTheme } = useTheme();\n  const [isFlipped, setIsFlipped] = useState(false);\n  const navigate = useNavigate();\n  \n  if (!isOpen || !item) return null;\n  \n  const details = itemBackDetails[item.name] || {\n    obtained: \"Scanned QR at Papillon Store\",\n    date: \"March 2025\",\n    location: \"NYC\",\n    season: \"Spring 2025\"\n  };\n  \n  const handleFlip = () => {\n    setIsFlipped(!isFlipped);\n  };\n  \n  const handleOverlayClick = (e) => {\n    if (e.target === e.currentTarget) {\n      onClose();\n    }\n  };\n\n  const handleEquipTheme = async () => {\n    console.log('🎨 EQUIP THEME BUTTON CLICKED!');\n    console.log('📦 Item details:', {\n      name: item.name,\n      category: item.category,\n      unlocked: item.unlocked,\n      item_id: item.item_id,\n      equipped: item.equipped\n    });\n    \n    if (item.category === 'themes' && item.unlocked) {\n      console.log('✅ Conditions met, calling equipTheme...');\n      \n      try {\n        const result = await switchTheme(item.item_id);\n        console.log('🔍 switchTheme result:', result);\n        \n        if (result.success) {\n          console.log('✅ Theme equipped successfully!');\n          onClose();\n          console.log('🧭 Navigating to passport...');\n          navigate('/passport');\n        } else {\n          console.log('❌ Theme equipping failed:', result.error);\n          alert('Failed to equip theme: ' + (result.error || 'Unknown error'));\n        }\n      } catch (error) {\n        console.error('💥 Error in handleEquipTheme:', error);\n        alert('Error equipping theme: ' + error.message);\n      }\n    } else {\n      console.log('❌ Conditions not met');\n      console.log('📦 Category check:', item.category === 'themes');\n      console.log('📦 Unlocked check:', item.unlocked);\n    }\n  };\n\n  // Check if item has MP4 preview for 3D models\n  const hasVideoPreview = item.preview_mp4 && item.file_type === '3d_model';\n  \n  return (\n    <ModalOverlay onClick={handleOverlayClick}>\n      <ModalCloseButton onClick={onClose} aria-label=\"Close\">×</ModalCloseButton>\n      <ModalCard onClick={e => e.stopPropagation()}>\n        <FlipInner isflipped={isFlipped}>\n          <FrontFace \n            onClick={() => setIsFlipped(true)}\n            style={item.category === 'themes' ? { background: item.gradient } : {}}\n          >\n            {hasVideoPreview ? (\n              <LargeVideoPreview\n                autoPlay\n                loop\n                muted\n                playsInline\n                src={item.preview_mp4}\n              />\n            ) : (\n              <LargeItemIcon style={{ position: 'relative' }}>\n                {getItemIcon(item.category, item.item_type, item)}\n                {item.category === 'themes' && !item.unlocked && (\n                  <div style={{\n                    position: 'absolute',\n                    top: '50%',\n                    left: '50%',\n                    transform: 'translate(-50%, -50%)',\n                    fontSize: '2rem',\n                    color: '#fff',\n                    textShadow: '0 0 8px rgba(0,0,0,0.8)'\n                  }}>\n                    🔒\n                  </div>\n                )}\n              </LargeItemIcon>\n            )}\n            <ModalTitle>{item.name}</ModalTitle>\n            <ModalDetails>\n              {item.rarity.charAt(0).toUpperCase() + item.rarity.slice(1)} • {item.item_type === 'physical_item' ? 'Physical' : 'Digital'}\n            </ModalDetails>\n            {item.category === 'themes' ? (\n              <ModalDescription>{item.description}</ModalDescription>\n            ) : (\n              <ModalDetails>#{item.mint_number}</ModalDetails>\n            )}\n            {item.category === 'themes' && item.equipped && (\n              <div style={{ color: '#FFD700', marginTop: '1rem', fontWeight: 'bold' }}>\n                ✓ Currently Equipped\n              </div>\n            )}\n            <ModalHint>Tap to flip</ModalHint>\n          </FrontFace>\n          <BackFace onClick={() => setIsFlipped(false)}>\n            {item.category === 'themes' ? (\n              <>\n\n                <ModalTitle>Unlock Requirements</ModalTitle>\n                <ModalDetails>\n                  <div style={{ textAlign: 'left', lineHeight: '2' }}>\n                    {(item.requirements || []).map((req, index) => (\n                      <div key={index} style={{ \n                        display: 'flex', \n                        alignItems: 'center', \n                        marginBottom: '12px',\n                        color: req.completed ? '#10B981' : '#fff'\n                      }}>\n                        <span style={{ marginRight: '12px', fontSize: '1.2rem' }}>\n                          {req.completed ? '✅' : '⭕'}\n                        </span>\n                        {req.text}\n                        {req.progressText && (\n                          <span style={{ \n                            marginLeft: '8px', \n                            fontSize: '0.9rem', \n                            opacity: 0.7,\n                            color: req.completed ? '#10B981' : '#FFD700'\n                          }}>\n                            ({req.progressText})\n                          </span>\n                        )}\n                      </div>\n                    ))}\n                  </div>\n                </ModalDetails>\n                {!item.unlocked ? (\n                  <ModalDescription style={{ color: '#ff6b6b', marginTop: '1rem' }}>\n                    Complete the requirements above to unlock this theme!\n                  </ModalDescription>\n                ) : (\n                  <div style={{ marginTop: '2rem', textAlign: 'center' }}>\n                    <button \n                      onClick={(e) => { e.stopPropagation(); handleEquipTheme(); }}\n                      style={{\n                        background: 'linear-gradient(135deg, #FFB000 0%, #FF9F1C 100%)',\n                        color: '#000',\n                        border: 'none',\n                        borderRadius: '12px',\n                        padding: '16px 32px',\n                        fontWeight: 'bold',\n                        fontSize: '1.1rem',\n                        cursor: 'pointer',\n                        boxShadow: '0 4px 12px rgba(255, 176, 0, 0.3)',\n                        transition: 'all 0.2s ease'\n                      }}\n                      onMouseEnter={(e) => {\n                        e.target.style.transform = 'translateY(-2px)';\n                        e.target.style.boxShadow = '0 6px 16px rgba(255, 176, 0, 0.4)';\n                      }}\n                      onMouseLeave={(e) => {\n                        e.target.style.transform = 'translateY(0)';\n                        e.target.style.boxShadow = '0 4px 12px rgba(255, 176, 0, 0.3)';\n                      }}\n                    >\n                      🎨 Equip Theme\n                    </button>\n                  </div>\n                )}\n              </>\n            ) : (\n              <>\n                <ModalTitle>How You Earned This</ModalTitle>\n                <ModalDetails>\n                  <div><ModalDetailLabel>Obtained:</ModalDetailLabel> {details.obtained}</div>\n                  <div><ModalDetailLabel>Date:</ModalDetailLabel> {details.date}</div>\n                  <div><ModalDetailLabel>Location:</ModalDetailLabel> {details.location}</div>\n                  <div><ModalDetailLabel>Season:</ModalDetailLabel> {details.season}</div>\n                  <div><ModalDetailLabel>WNGS:</ModalDetailLabel> +{item.wings_earned}</div>\n                </ModalDetails>\n              </>\n            )}\n            <ModalHint>Tap to flip back</ModalHint>\n          </BackFace>\n        </FlipInner>\n      </ModalCard>\n    </ModalOverlay>\n  );\n};\n\nconst ClosetScreen = () => {\n  const { user, loading: authLoading } = useAuth();\n  const { currentTheme, ownsTheme, themes, loading: themesLoading } = useTheme();\n  const { \n    closetItems, \n    loading: closetLoading, \n    stats, \n    refreshCloset,\n    isCacheValid: closetCacheValid \n  } = useCloset();\n\n  const [mainFilter, setMainFilter] = useState('all');\n  const [subFilter, setSubFilter] = useState('all');\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [showStatsModal, setShowStatsModal] = useState(false);\n  const navigate = useNavigate();\n\n  // Memoized theme items calculation\n  const themeItems = useMemo(() => {\n    return themes.map((theme) => {\n      const isUnlocked = ownsTheme(theme.key);\n      \n      return {\n        id: `theme-${theme.key}`,\n        item_type: 'digital_collectible',\n        item_id: theme.key,\n        name: theme.name,\n        rarity: 'epic',\n        category: 'themes',\n        gradient: theme.colors.backgroundGradient || theme.colors.background,\n        icon: '🎨',\n        description: theme.description || '',\n        requirements: [],\n        unlocked: isUnlocked,\n        equipped: currentTheme === theme.key,\n        earned_date: '2025-03-01',\n        earned_via: 'unlock',\n        wings_earned: 0\n      };\n    });\n  }, [themes, ownsTheme, currentTheme]);\n\n  // Memoized all items\n  const allItems = useMemo(() => \n    [...closetItems, ...themeItems], \n    [closetItems, themeItems]\n  );\n\n  // Memoized enhanced items\n  const enhancedItems = useMemo(() => \n    allItems.map(item => ({\n      ...item,\n      isLimitedEdition: false\n    })), \n    [allItems]\n  );\n\n  // Memoized filtered items\n  const filteredItems = useMemo(() => \n    enhancedItems.filter(item => {\n      if (mainFilter === 'physical' && item.item_type !== 'physical_item') return false;\n      if (mainFilter === 'digital' && item.item_type !== 'digital_collectible') return false;\n      if (subFilter !== 'all' && item.category !== subFilter) return false;\n      return true;\n    }), \n    [enhancedItems, mainFilter, subFilter]\n  );\n\n  // Memoized sub filter options\n  const subFilterOptions = useMemo(() => {\n    const categories = [...new Set(allItems\n      .filter(item => {\n        if (mainFilter === 'physical') return item.item_type === 'physical_item';\n        if (mainFilter === 'digital') return item.item_type === 'digital_collectible';\n        return true;\n      })\n      .map(item => item.category))];\n    \n    return categories.sort();\n  }, [allItems, mainFilter]);\n\n  // Memoized display stats\n  const displayStats = useMemo(() => ({\n    total: stats.total,\n    physical: stats.physical,\n    digital: stats.digital,\n    limited: stats.limited,\n    legendary: stats.legendary,\n    epic: stats.epic,\n  }), [stats]);\n\n  // Memoized callback functions\n  const handleItemClick = useCallback((item) => {\n    setSelectedItem(item);\n  }, []);\n\n  const handleMainFilterChange = useCallback((filter) => {\n    setMainFilter(filter);\n    setSubFilter('all');\n  }, []);\n\n  const handleSubFilterChange = useCallback((filter) => {\n    setSubFilter(filter);\n  }, []);\n\n  const handleStatsModalToggle = useCallback(() => {\n    setShowStatsModal(prev => !prev);\n  }, []);\n\n  const handleCloseModal = useCallback(() => {\n    setSelectedItem(null);\n  }, []);\n\n  // Show loading only if we're actually loading AND don't have any data yet\n  const shouldShowLoading = (authLoading || themesLoading || closetLoading) && \n                           (!closetItems || closetItems.length === 0);\n  \n  // If we have a user but no items and not loading, show empty state\n  const hasUserButNoItems = user && !closetLoading && (!closetItems || closetItems.length === 0);\n  \n  if (shouldShowLoading && !hasUserButNoItems) {\n    return (\n      <Container>\n        <ScreenTitle>My Closet</ScreenTitle>\n        \n        {/* Skeleton Loading */}\n        <div style={{ \n          display: 'grid', \n          gridTemplateColumns: 'repeat(auto-fill, minmax(280px, 1fr))', \n          gap: '1rem', \n          padding: '1rem 0' \n        }}>\n          {[...Array(6)].map((_, i) => (\n            <div key={i} style={{\n              background: 'rgba(255, 255, 255, 0.05)',\n              borderRadius: '12px',\n              padding: '1rem',\n              height: '200px',\n              animation: 'pulse 1.5s ease-in-out infinite',\n              border: '1px solid rgba(255, 255, 255, 0.1)'\n            }}>\n              <div style={{\n                width: '60px',\n                height: '60px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '8px',\n                marginBottom: '0.5rem'\n              }} />\n              <div style={{\n                width: '80%',\n                height: '16px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '4px',\n                marginBottom: '0.5rem'\n              }} />\n              <div style={{\n                width: '60%',\n                height: '12px',\n                background: 'rgba(255, 255, 255, 0.1)',\n                borderRadius: '4px'\n              }} />\n            </div>\n          ))}\n        </div>\n        \n        <style>{`\n          @keyframes pulse {\n            0%, 100% { opacity: 0.6; }\n            50% { opacity: 1; }\n          }\n        `}</style>\n        <NavBar />\n      </Container>\n    );\n  }\n\n  return (\n    <Container>\n      <div style={{ \n        display: 'flex', \n        justifyContent: 'space-between', \n        alignItems: 'center', \n        marginBottom: '1rem' \n      }}>\n        <ScreenTitle>My Closet</ScreenTitle>\n        <div style={{\n          fontSize: '0.8rem',\n          color: 'rgba(255, 255, 255, 0.6)',\n          display: 'flex',\n          alignItems: 'center',\n          gap: '0.5rem'\n        }}>\n          {closetCacheValid && (\n            <>\n              <span>🔄 Cached</span>\n              <button \n                onClick={refreshCloset}\n                style={{\n                  background: 'rgba(255, 176, 0, 0.1)',\n                  border: '1px solid rgba(255, 176, 0, 0.3)',\n                  borderRadius: '4px',\n                  padding: '0.25rem 0.5rem',\n                  color: '#FFB000',\n                  fontSize: '0.7rem',\n                  cursor: 'pointer'\n                }}\n              >\n                Refresh\n              </button>\n            </>\n          )}\n        </div>\n      </div>\n        \n      <>\n        {/* Floating Stats Button */}\n        <MemoizedFloatingStatsButton \n          count={displayStats.total} \n          onClick={handleStatsModalToggle}\n        />\n\n        {/* Stats Modal */}\n        {showStatsModal && (\n          <StatsModal onClick={handleStatsModalToggle}>\n            <ModalContent onClick={(e) => e.stopPropagation()}>\n              <ModalHeader>\n                <h2>Collection Stats</h2>\n                <CloseButton onClick={handleStatsModalToggle}>×</CloseButton>\n              </ModalHeader>\n              <StatsGrid>\n                <StatItem>\n                  <StatLabel>Total Items</StatLabel>\n                  <StatValue>{displayStats.total}</StatValue>\n                </StatItem>\n                <StatItem>\n                  <StatLabel>Physical</StatLabel>\n                  <StatValue>{displayStats.physical}</StatValue>\n                </StatItem>\n                <StatItem>\n                  <StatLabel>Digital</StatLabel>\n                  <StatValue>{displayStats.digital}</StatValue>\n                </StatItem>\n                <StatItem>\n                  <StatLabel>Limited Edition</StatLabel>\n                  <StatValue>{displayStats.limited}</StatValue>\n                </StatItem>\n                <StatItem>\n                  <StatLabel>Legendary</StatLabel>\n                  <StatValue>{displayStats.legendary}</StatValue>\n                </StatItem>\n                <StatItem>\n                  <StatLabel>Epic</StatLabel>\n                  <StatValue>{displayStats.epic}</StatValue>\n                </StatItem>\n              </StatsGrid>\n            </ModalContent>\n          </StatsModal>\n        )}\n\n        <MainFilterTabs>\n          <MemoizedFilterTab \n            type=\"main\"\n            active={mainFilter === 'all'} \n            onClick={() => handleMainFilterChange('all')}\n          >\n            All Items\n          </MemoizedFilterTab>\n          <MemoizedFilterTab \n            type=\"main\"\n            active={mainFilter === 'physical'} \n            onClick={() => handleMainFilterChange('physical')}\n          >\n            Physical\n          </MemoizedFilterTab>\n          <MemoizedFilterTab \n            type=\"main\"\n            active={mainFilter === 'digital'} \n            onClick={() => handleMainFilterChange('digital')}\n          >\n            Digital\n          </MemoizedFilterTab>\n        </MainFilterTabs>\n\n        <SubFilterTabs>\n          <MemoizedFilterTab \n            type=\"sub\"\n            active={subFilter === 'all'} \n            onClick={() => handleSubFilterChange('all')}\n          >\n            All Categories\n          </MemoizedFilterTab>\n          {subFilterOptions.map(category => (\n            <MemoizedFilterTab \n              key={category}\n              type=\"sub\"\n              active={subFilter === category} \n              onClick={() => handleSubFilterChange(category)}\n            >\n              {getCategoryDisplayName(category)}\n            </MemoizedFilterTab>\n          ))}\n        </SubFilterTabs>\n\n        {filteredItems.length > 0 ? (\n          <ItemsGrid>\n            {filteredItems.map(item => (\n              <ItemCard \n                key={item.id}\n                item={item}\n                onClick={() => handleItemClick(item)}\n                isLimitedEdition={item.isLimitedEdition}\n              />\n            ))}\n          </ItemsGrid>\n        ) : (\n          <EmptyState>\n            {closetLoading ? (\n              <>\n                <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>⏳</div>\n                <div style={{ fontSize: '1.2rem', marginBottom: '0.5rem' }}>Loading your closet...</div>\n                <div style={{ fontSize: '1rem', color: 'rgba(255,255,255,0.6)' }}>Checking for your Papillon treasures</div>\n              </>\n            ) : mainFilter === 'all' ? (\n              <>\n                <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>👕</div>\n                <div style={{ fontSize: '1.2rem', marginBottom: '0.5rem' }}>Your closet is looking a bit empty...</div>\n                <div style={{ fontSize: '1rem', color: 'rgba(255,255,255,0.6)' }}>Start scanning QR codes to collect your first Papillon items!</div>\n              </>\n            ) : (\n              <>\n                <div style={{ fontSize: '4rem', marginBottom: '1rem' }}>🔍</div>\n                <div style={{ fontSize: '1.2rem', marginBottom: '0.5rem' }}>No {mainFilter} items found</div>\n                <div style={{ fontSize: '1rem', color: 'rgba(255,255,255,0.6)' }}>Try scanning more QR codes or check other categories</div>\n              </>\n            )}\n          </EmptyState>\n        )}\n\n        {/* Item Modal */}\n        <ItemModal\n          item={selectedItem}\n          isOpen={!!selectedItem}\n          onClose={handleCloseModal}\n        />\n      </>\n        \n      {/* Navigation Bar */}\n      <NavBar />\n    </Container>\n  );\n};\n\n// Helper function to get appropriate icon for each item type\nconst getItemIcon = (category, itemType, item = null) => {\n  const physicalIcons = {\n    jackets: '🧥',\n    tops: '👕',\n    bottoms: '👖',\n    headwear: '🧢',\n    accessories: '⛓️',\n    footwear: '👟'\n  };\n\n  const digitalIcons = {\n    wallpapers: '🖼️',\n    tickets: '🎟️',\n    posters: '🖼️',\n    themes: '🎨'\n  };\n\n  if (itemType === 'physical_item') {\n    return physicalIcons[category] || '👕';\n  } else if (category === 'themes' && item?.icon) {\n    return item.icon;\n  } else {\n    return digitalIcons[category] || '💎';\n  }\n};\n\nconst getCategoryDisplayName = (category) => {\n  const displayNames = {\n    wallpapers: 'Wallpapers',\n    themes: 'Themes',\n    jackets: 'Jackets',\n    tops: 'Tops',\n    bottoms: 'Bottoms',\n    headwear: 'Headwear',\n    accessories: 'Accessories',\n    footwear: 'Footwear',\n    tickets: 'Tickets',\n    posters: 'Posters'\n  };\n  \n  return displayNames[category] || category.charAt(0).toUpperCase() + category.slice(1);\n};\n\n\n\n\n\nexport default ClosetScreen; ","import { useState, useEffect, useCallback, useMemo } from 'react';\nimport { supabase } from '../utils/supabaseClient';\nimport { useAuth } from './useAuth';\n\nexport const useCloset = () => {\n  const { user } = useAuth();\n  const [closetItems, setClosetItems] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [lastFetch, setLastFetch] = useState(null);\n  const [stats, setStats] = useState({\n    total: 0,\n    physical: 0,\n    digital: 0,\n    limited: 0,\n    legendary: 0,\n    epic: 0,\n    rare: 0,\n    uncommon: 0,\n    common: 0\n  });\n\n  // Increased cache duration to 2 minutes for better performance\n  const CACHE_DURATION = 2 * 60 * 1000;\n\n  // Check if cache is still valid\n  const isCacheValid = useMemo(() => {\n    if (!lastFetch) return false;\n    return Date.now() - lastFetch < CACHE_DURATION;\n  }, [lastFetch]);\n\n  // Optimized closet data fetch with single query and better error handling\n  const fetchClosetItems = useCallback(async (forceRefresh = false) => {\n    if (!user) {\n      return;\n    }\n\n    // Return cached data if still valid and not forcing refresh\n    if (isCacheValid && !forceRefresh && closetItems.length > 0) {\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setError(null);\n\n      // Use the optimized database function for better performance\n      const { data, error } = await supabase\n        .rpc('get_user_closet_cards', { user_id_param: user.id });\n\n      if (error) {\n        // Fallback to direct query if function doesn't exist\n        console.warn('Optimized function not available, using fallback query');\n        const { data: fallbackData, error: fallbackError } = await supabase\n          .from('user_closet')\n          .select(`\n            *,\n            rewards:reward_id (\n              name,\n              description,\n              category,\n              rarity,\n              wings_value,\n              season,\n              image_url,\n              is_active\n            )\n          `)\n          .eq('user_id', user.id)\n          .order('earned_date', { ascending: false });\n\n        if (fallbackError) {\n          throw fallbackError;\n        }\n        \n        // Process fallback data\n        const processedItems = (fallbackData || []).map(item => ({\n          id: item.id,\n          item_id: item.reward_id,\n          name: item.name || item.rewards?.name || 'Unknown Item',\n          rarity: item.rarity || item.rewards?.rarity || 'common',\n          category: item.category || item.rewards?.category || 'misc',\n          mint_number: item.mint_number,\n          wings_earned: item.wings_earned || item.rewards?.wings_value || 0,\n          earned_date: item.earned_date,\n          earned_via: item.earned_via,\n          is_equipped: item.is_equipped || false,\n          reward_data: item.rewards,\n          image_url: item.rewards?.image_url\n        }));\n\n        setClosetItems(processedItems);\n        updateStats(processedItems);\n      } else {\n        // Use optimized function data\n        setClosetItems(data || []);\n        updateStats(data || []);\n      }\n\n      setLastFetch(Date.now());\n\n    } catch (err) {\n      console.error('Error fetching closet items:', err);\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [user, isCacheValid, closetItems.length]);\n\n  // Optimized stats calculation\n  const updateStats = useCallback((items) => {\n    const newStats = {\n      total: items.length,\n      physical: 0,\n      digital: 0,\n      limited: 0,\n      legendary: 0,\n      epic: 0,\n      rare: 0,\n      uncommon: 0,\n      common: 0\n    };\n\n    // Single pass through items for all stats\n    items.forEach(item => {\n      if (item.category !== 'themes') {\n        newStats.physical++;\n      } else {\n        newStats.digital++;\n      }\n\n      switch (item.rarity) {\n        case 'legendary':\n          newStats.legendary++;\n          newStats.limited++;\n          break;\n        case 'epic':\n          newStats.epic++;\n          break;\n        case 'rare':\n          newStats.rare++;\n          break;\n        case 'uncommon':\n          newStats.uncommon++;\n          break;\n        case 'common':\n          newStats.common++;\n          break;\n      }\n    });\n\n    setStats(newStats);\n  }, []);\n\n  // Memoized computed values for better performance\n  const equippedItems = useMemo(() => \n    closetItems.filter(item => item.is_equipped), \n    [closetItems]\n  );\n\n  const itemsByCategory = useMemo(() => {\n    const categories = {};\n    closetItems.forEach(item => {\n      if (!categories[item.category]) {\n        categories[item.category] = [];\n      }\n      categories[item.category].push(item);\n    });\n    return categories;\n  }, [closetItems]);\n\n  const itemsByRarity = useMemo(() => {\n    const rarities = {};\n    closetItems.forEach(item => {\n      if (!rarities[item.rarity]) {\n        rarities[item.rarity] = [];\n      }\n      rarities[item.rarity].push(item);\n    });\n    return rarities;\n  }, [closetItems]);\n\n  // Optimized equip/unequip with better error handling\n  const toggleEquipItem = useCallback(async (itemId) => {\n    if (!user) return;\n\n    try {\n      // Optimistic update\n      setClosetItems(prev => prev.map(item => \n        item.id === itemId \n          ? { ...item, is_equipped: !item.is_equipped }\n          : item\n      ));\n\n      const { error } = await supabase\n        .from('user_closet')\n        .update({ is_equipped: !closetItems.find(item => item.id === itemId)?.is_equipped })\n        .eq('id', itemId)\n        .eq('user_id', user.id);\n\n      if (error) throw error;\n    } catch (err) {\n      console.error('Error toggling equip status:', err);\n      setError(err.message);\n      // Revert optimistic update on error\n      await fetchClosetItems(true);\n    }\n  }, [user, closetItems, fetchClosetItems]);\n\n  // Get items by category (memoized)\n  const getItemsByCategory = useCallback((category) => {\n    return itemsByCategory[category] || [];\n  }, [itemsByCategory]);\n\n  // Get items by rarity (memoized)\n  const getItemsByRarity = useCallback((rarity) => {\n    return itemsByRarity[rarity] || [];\n  }, [itemsByRarity]);\n\n  // Refresh closet data\n  const refreshCloset = useCallback(() => {\n    fetchClosetItems(true);\n  }, [fetchClosetItems]);\n\n  // Initial load with better error handling\n  useEffect(() => {\n    if (user) {\n      fetchClosetItems();\n    } else {\n      // Reset state when user is not authenticated\n      setClosetItems([]);\n      setLoading(false);\n      setError(null);\n    }\n  }, [user, fetchClosetItems]);\n\n  // Reduced timeout to 5 seconds for faster feedback\n  useEffect(() => {\n    if (loading) {\n      const timeoutId = setTimeout(() => {\n        console.warn('Closet loading timeout - forcing completion');\n        setLoading(false);\n        setError('Loading timeout - please refresh');\n      }, 5000); // 5 second timeout\n      \n      return () => clearTimeout(timeoutId);\n    }\n  }, [loading]);\n\n  return {\n    closetItems,\n    loading,\n    error,\n    stats,\n    equippedItems,\n    toggleEquipItem,\n    getEquippedItems: () => equippedItems,\n    getItemsByCategory,\n    getItemsByRarity,\n    refreshCloset,\n    isCacheValid\n  };\n}; ","import styled, { keyframes } from 'styled-components';\n\nconst goldGlow = keyframes`\n  0%, 100% { \n    box-shadow: \n      0 0 12px 0 rgba(255,215,0,0.15),\n      0 0 24px 0 rgba(255,215,0,0.08),\n      inset 0 1px 0 rgba(255,215,0,0.1);\n  }\n  50% { \n    box-shadow: \n      0 0 20px 0 rgba(255,215,0,0.3),\n      0 0 40px 0 rgba(255,215,0,0.15),\n      inset 0 1px 0 rgba(255,215,0,0.2);\n  }\n`;\n\nconst GlassCard = styled.div`\n  position: relative;\n  background: ${({ theme }) => theme.colors?.glass?.background || 'linear-gradient(135deg, rgba(20,20,20,0.95) 0%, rgba(30,30,30,0.90) 50%, rgba(15,15,15,0.98) 100%)'};\n  border-radius: 20px;\n  border: 3px solid ${({ theme }) => theme.colors?.accent?.gold || '#FFD700'};\n  box-shadow: \n    0 0 12px 0 rgba(255,215,0,0.15),\n    0 0 24px 0 rgba(255,215,0,0.08),\n    inset 0 1px 0 rgba(255,215,0,0.1);\n  backdrop-filter: blur(18px);\n  -webkit-backdrop-filter: blur(18px);\n  overflow: hidden;\n  transition: transform 0.18s cubic-bezier(0.4,0,0.2,1), box-shadow 0.18s, border 0.18s;\n  \n  &:hover {\n    transform: translateY(-3px) scale(1.02);\n    border: 3px solid ${({ theme }) => theme.colors?.accent?.gold || '#FFD700'};\n    box-shadow: \n      0 0 20px 0 rgba(255,215,0,0.3),\n      0 0 40px 0 rgba(255,215,0,0.15),\n      inset 0 1px 0 rgba(255,215,0,0.2);\n    animation: ${goldGlow} 2s ease-in-out infinite;\n  }\n  \n  /* Content positioning */\n  > * {\n    position: relative;\n    z-index: 1;\n  }\n`;\n\nexport default GlassCard; ","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport styled, { keyframes } from 'styled-components';\n\nconst liquidBrand = keyframes`\n  0%, 100% { \n    background-position: 0% 50%; \n  }\n  50% { \n    background-position: 100% 50%; \n  }\n`;\n\nconst Nav = styled.nav`\n  position: fixed;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  background: rgba(18, 18, 18, 0.95);\n  backdrop-filter: blur(20px);\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  padding: 8px 0 max(8px, env(safe-area-inset-bottom));\n  z-index: 1000;\n  box-shadow: 0 -4px 20px rgba(0, 0, 0, 0.3);\n`;\n\nconst NavContainer = styled.div`\n  max-width: 100%;\n  margin: 0 auto;\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  position: relative;\n  padding: 0 20px;\n`;\n\n\n\nconst NavItem = styled(Link)`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 8px 12px;\n  border-radius: 12px;\n  text-decoration: none;\n  transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);\n  position: relative;\n  min-width: 60px;\n  min-height: 48px; /* Ensure 44px+ touch target */\n  color: ${({ $isActive }) => \n    $isActive ? '#FFB000' : 'rgba(250, 250, 250, 0.7)'};\n  \n  ${({ $isActive }) => $isActive && `\n    background: rgba(127, 63, 191, 0.15);\n    transform: translateY(-2px);\n  `}\n  \n  &:hover {\n    color: #FFB000;\n    background: rgba(76, 28, 140, 0.1);\n    transform: translateY(-1px);\n  }\n  \n  &:active::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    width: 20px;\n    height: 20px;\n    background: rgba(127, 63, 191, 0.3);\n    border-radius: 50%;\n    transform: translate(-50%, -50%);\n    animation: ripple 0.3s ease-out;\n  }\n`;\n\nconst IconContainer = styled.div`\n  width: 24px;\n  height: 24px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 4px;\n  position: relative;\n  \n  svg {\n    width: 22px;\n    height: 22px;\n    stroke-width: 2;\n    transition: all 0.2s ease;\n  }\n  \n  ${({ $isActive }) => $isActive && `\n    svg {\n      stroke-width: 2.5;\n      transform: scale(1.1);\n    }\n  `}\n`;\n\nconst Label = styled.span`\n  font-size: 11px;\n  font-weight: ${({ $isActive }) => $isActive ? '600' : '500'};\n  color: ${({ $isActive, theme }) => \n    $isActive ? theme.colors?.accent?.purple || '#7F3FBF' : 'rgba(255, 255, 255, 0.7)'};\n  transition: all 0.2s ease;\n  text-align: center;\n  line-height: 1.2;\n`;\n\nconst ActiveIndicator = styled.div`\n  position: absolute;\n  top: -2px;\n  left: 50%;\n  transform: translateX(-50%);\n  width: 4px;\n  height: 4px;\n  background: ${({ theme }) => theme.colors?.accent?.purple || '#7F3FBF'};\n  border-radius: 50%;\n  opacity: ${({ $isActive }) => $isActive ? 1 : 0};\n  transition: opacity 0.2s ease;\n`;\n\nconst ScanButtonContainer = styled.div`\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n`;\n\n\n\nconst ScanButton = styled(Link)`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 56px;\n  height: 56px;\n  background: linear-gradient(135deg, #4C1C8C 0%, #FFB000 100%);\n  border-radius: 18px;\n  text-decoration: none;\n  color: white;\n  font-size: 24px;\n  box-shadow: \n    0 8px 25px rgba(76, 28, 140, 0.4),\n    0 0 20px rgba(255, 176, 0, 0.3);\n  transition: all 0.3s cubic-bezier(0.23, 1, 0.320, 1);\n  transform: translateY(-8px);\n  position: relative;\n  overflow: hidden;\n  \n  /* Brand shimmer */\n  &::before {\n    content: '';\n    position: absolute;\n    top: -50%;\n    left: -50%;\n    width: 200%;\n    height: 200%;\n    background: linear-gradient(45deg, \n      transparent 30%, \n      rgba(250,250,250,0.4) 50%, \n      transparent 70%\n    );\n    transform: rotate(45deg);\n    animation: ${liquidBrand} 3s linear infinite;\n  }\n  \n  &:hover {\n    transform: translateY(-12px) scale(1.1);\n    box-shadow: \n      0 12px 35px rgba(76, 28, 140, 0.6),\n      0 0 30px rgba(255, 176, 0, 0.5);\n  }\n  \n  &:active {\n    transform: translateY(-6px) scale(0.95);\n  }\n  \n  svg {\n    width: 40px;\n    height: 40px;\n    stroke-width: 2.5;\n  }\n`;\n\nconst NavBar = () => {\n  const location = useLocation();\n  \n  const navItems = [\n    { path: '/', icon: 'Home', label: 'Home' },\n    { path: '/passport', icon: 'Book', label: 'Passport' },\n    { path: '/closet', icon: 'Shirt', label: 'Closet' },\n    { path: '/profile', icon: 'User', label: 'Profile' }\n  ];\n  \n  const getIcon = (iconName, isActive) => {\n    const color = isActive ? '#7F3FBF' : 'rgba(255, 255, 250, 0.7)';\n    \n    switch (iconName) {\n      case 'Home':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/>\n            <polyline points=\"9,22 9,12 15,12 15,22\"/>\n          </svg>\n        );\n      case 'Book':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M4 19.5A2.5 2.5 0 0 1 6.5 17H20\"/>\n            <path d=\"M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z\"/>\n          </svg>\n        );\n      case 'Shirt':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z\"/>\n          </svg>\n        );\n      case 'User':\n        return (\n          <svg viewBox=\"0 0 24 24\" fill=\"none\" stroke={color}>\n            <path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/>\n            <circle cx=\"12\" cy=\"7\" r=\"4\"/>\n          </svg>\n        );\n      default:\n        return null;\n    }\n  };\n  \n  return (\n    <Nav>\n      <NavContainer>\n        {navItems.slice(0, 2).map((item) => {\n          const isActive = location.pathname === item.path;\n          return (\n            <NavItem key={item.path} to={item.path} $isActive={isActive}>\n              <ActiveIndicator $isActive={isActive} />\n              <IconContainer $isActive={isActive}>\n                {getIcon(item.icon, isActive)}\n              </IconContainer>\n              <Label $isActive={isActive}>{item.label}</Label>\n            </NavItem>\n          );\n        })}\n        \n        <ScanButtonContainer>\n          <ScanButton to=\"/scan\" aria-label=\"Scan QR Code\">\n            <svg viewBox=\"0 0 1929.64 1459.22\" fill=\"currentColor\">\n              <g>\n                <path d=\"M965.35,380.63c-53.21,1.58-99.94-37.36-100.16-97.49-.2-54.36,38.41-99.68,100.16-100.14,55.99-.42,98.03,40.8,99.26,97.88,1.22,56.35-42.99,101.52-99.27,99.75Z\"/>\n                <path d=\"M966.46,439.05c47.18-2.32,98.18,37.36,98.17,98.68,0,55.27-41.86,99.73-99.63,98.75-60.67-1.03-99.14-42.83-99.9-97.4-.86-61.26,50.23-102.87,101.37-100.03Z\"/>\n                <path d=\"M236.74,262.16c4.24,.25,7.04-2.85,10.3-4.95,35.77-23.06,78.33-20.59,112.28,4.79,40.25,30.08,54.38,86.37,35.04,136.47-14.39,37.29-41.54,62.37-78.27,77.53-17.69,7.3-36.28,11.97-55.09,11.84-37.53-.26-71.65-11.49-100.36-36.96-28.13-24.95-43.88-56.5-51.22-92.84-11.23-55.55-1.27-108.45,21.14-159.34,23.73-53.88,60.05-98.07,107.56-132.82C284.89,31.68,337.56,12.12,394.65,3.7c29.15-4.3,58.57-4.72,87.59-1.92,48.25,4.66,94.63,17.27,137.57,40.86,66.42,36.48,115.74,89.41,149.97,156.48,21.05,41.23,34.11,85.05,39.19,131.26,3.15,28.68,5.46,57.46,3.87,86.17-2.65,48.19-11.14,95.48-25.31,141.79-27.17,88.79-71.22,168.99-123.39,245.11-37.17,54.23-77.54,106.01-120.45,155.83-30.53,35.45-61.47,70.51-93.43,104.72-23.31,24.95-46.07,50.49-69.42,75.41-70.8,75.55-143.47,149.3-217.8,221.35-30.3,29.37-61.18,58.3-93.28,85.83-13.53,11.6-28.74,14.4-45.38,11.63-16.21-2.71-27.3-20.35-23.7-36.76,1.96-8.91,6.27-16.77,11.15-24.44,17.42-27.41,37.62-52.79,57.51-78.36,57.5-73.89,115.36-147.49,173.21-221.11,48.68-61.95,96.29-124.71,142.59-188.46,55.87-76.92,109.09-155.58,153.83-239.6,32.46-60.96,59.52-124.21,76.27-191.5,8.52-34.21,13.5-68.98,13.22-104.18-.37-48.6-11.37-95.01-37.3-136.42-33.78-53.94-82.9-86.77-145.84-97.34-59.39-9.98-112.46,6.05-159.33,42.87-24.3,19.09-41.59,43.47-49.46,73.87-.44,1.72-1.16,3.41,.21,5.37Z\"/>\n                <path d=\"M1695.11,264.15c-3.87-22.28-12.68-40.21-25.49-56.03-31.54-38.96-73.39-60.6-122.15-68-76.02-11.54-139.34,14.6-190.01,70.76-29.32,32.5-44.49,72.67-51.91,115.55-10.35,59.8-1.62,118.08,14.96,175.64,20.57,71.42,52.55,137.82,89.39,202.03,52.52,91.52,113.86,177.08,177.14,261.33,54.59,72.67,110.97,143.95,167.02,215.48,47.73,60.91,95.63,121.69,141.96,183.68,9.97,13.33,19.6,26.96,27.71,41.55,5.95,10.71,8.2,21.92,3.05,33.67-5.14,11.73-13.86,18.21-26.95,19.23-16.72,1.3-30.31-3.95-43.08-15.07-82.91-72.22-159.38-151.09-236.49-229.24-33.47-33.93-65.79-69.06-98.59-103.68-31.86-33.64-63.52-67.51-94.03-102.36-35.26-40.27-70.04-80.95-103.23-123.02-37.15-47.08-71.74-95.89-102.59-147.23-36.79-61.24-65.49-126.16-84.5-195.23-15.29-55.58-21.92-112.14-19.43-169.67,4.56-105.31,40.12-197.82,115.47-273.1,53.73-53.67,119.21-85.11,194-95.75,92.53-13.17,179.85,2.43,257.42,56.57,75.73,52.85,123.95,124.99,138.04,216.96,7.33,47.83,3.27,95.62-23.74,138.08-25.55,40.17-61.92,64.11-109.97,69.79-41.07,4.85-77.82-6.27-110.35-30.22-45.3-33.36-64.26-94.2-43.97-145.77,16.74-42.55,57.05-69.78,101.87-68.7,16.18,.39,30.85,5.69,44.53,14.04,4.13,2.52,8.2,5.16,13.93,8.77Z\"/>\n              </g>\n            </svg>\n          </ScanButton>\n        </ScanButtonContainer>\n        \n        {navItems.slice(2).map((item) => {\n          const isActive = location.pathname === item.path;\n          return (\n            <NavItem key={item.path} to={item.path} $isActive={isActive}>\n              <ActiveIndicator $isActive={isActive} />\n              <IconContainer $isActive={isActive}>\n                {getIcon(item.icon, isActive)}\n              </IconContainer>\n              <Label $isActive={isActive}>{item.label}</Label>\n            </NavItem>\n          );\n        })}\n      </NavContainer>\n    </Nav>\n  );\n};\n\nexport default NavBar; "],"names":["itemBackDetails","obtained","date","location","season","Container","styled","div","_templateObject","_taggedTemplateLiteral","ScreenTitle","h1","_templateObject2","_ref","theme","typography","fontFamily","heading","_ref2","colors","text","primary","MainFilterTabs","_templateObject3","SubFilterTabs","_templateObject4","_ref3","accent","purple","ItemsGrid","button","_templateObject5","_ref4","active","gold","_ref5","type","_ref6","background","secondary","_ref7","_ref8","_templateObject6","StyledItemCard","GlassCard","_templateObject7","_ref9","rarity","isLimitedEdition","_ref0","_ref1","_ref10","_ref11","_ref12","_ref13","StyledFilterTab","_templateObject8","_ref14","_ref15","_ref16","_ref17","_ref18","StyledFloatingStatsButton","_templateObject9","ItemCard","memo","_ref19","item","onClick","_jsxs","style","category","gradient","border","equipped","opacity","unlocked","children","mint_number","MintNumberBadge","CardContent","_jsx","CardIcon","preview_mp4","file_type","VideoPreview","autoPlay","loop","muted","playsInline","src","fontSize","position","getItemIcon","item_type","top","left","transform","color","textShadow","right","CardName","name","CardRarity","fontWeight","textTransform","letterSpacing","MemoizedFilterTab","_ref20","MemoizedFloatingStatsButton","_ref21","count","className","_templateObject0","_templateObject1","_templateObject10","_ref22","_templateObject11","_ref23","_templateObject12","video","_templateObject13","EmptyState","h3","_templateObject14","_ref24","_ref25","_templateObject15","_ref26","_templateObject16","_ref27","span","_templateObject17","_ref28","_templateObject18","_ref29","StatsModal","_templateObject19","_templateObject20","ModalContent","_templateObject21","ModalHeader","_templateObject22","_ref30","CloseButton","_templateObject23","_ref31","_ref32","StatsGrid","_templateObject24","StatItem","_templateObject25","StatLabel","_templateObject26","_ref33","StatValue","_templateObject27","_ref34","ModalOverlay","_templateObject28","_ref35","_templateObject29","_ref36","_ref37","_ref38","_templateObject30","ModalCard","_templateObject31","FlipInner","_templateObject32","_ref39","isflipped","Face","_templateObject33","FrontFace","_templateObject34","BackFace","_templateObject35","ModalCloseButton","_templateObject36","LargeItemIcon","_templateObject37","LargeVideoPreview","_templateObject38","ModalTitle","h2","_templateObject39","_ref40","ModalHint","_templateObject40","ModalDetails","_templateObject41","_ref41","ModalDetailLabel","_templateObject42","ModalDescription","_templateObject43","_ref42","ItemModal","_templateObject44","_ref43","_ref44","isOpen","onClose","switchTheme","currentTheme","useTheme","isFlipped","setIsFlipped","useState","navigate","useNavigate","details","hasVideoPreview","e","target","currentTarget","stopPropagation","charAt","toUpperCase","slice","description","marginTop","_Fragment","textAlign","lineHeight","requirements","map","req","index","display","alignItems","marginBottom","completed","marginRight","progressText","marginLeft","async","console","log","item_id","result","success","error","alert","message","handleEquipTheme","borderRadius","padding","cursor","boxShadow","transition","onMouseEnter","onMouseLeave","wings_earned","itemType","arguments","length","undefined","digitalIcons","wallpapers","tickets","posters","themes","jackets","tops","bottoms","headwear","accessories","footwear","icon","getCategoryDisplayName","ClosetScreen","user","loading","authLoading","useAuth","ownsTheme","themesLoading","closetItems","closetLoading","stats","refreshCloset","isCacheValid","closetCacheValid","useCloset","setClosetItems","setLoading","setError","lastFetch","setLastFetch","setStats","total","physical","digital","limited","legendary","epic","rare","uncommon","common","useMemo","Date","now","fetchClosetItems","useCallback","data","supabase","rpc","user_id_param","id","warn","fallbackData","fallbackError","from","select","eq","order","ascending","processedItems","_item$rewards","_item$rewards2","_item$rewards3","_item$rewards4","_item$rewards5","reward_id","rewards","wings_value","earned_date","earned_via","is_equipped","reward_data","image_url","updateStats","err","items","newStats","forEach","equippedItems","filter","itemsByCategory","categories","push","itemsByRarity","rarities","toggleEquipItem","_closetItems$find","prev","itemId","_objectSpread","update","find","getItemsByCategory","getItemsByRarity","useEffect","timeoutId","setTimeout","clearTimeout","getEquippedItems","mainFilter","setMainFilter","subFilter","setSubFilter","selectedItem","setSelectedItem","showStatsModal","setShowStatsModal","themeItems","isUnlocked","key","concat","backgroundGradient","allItems","enhancedItems","filteredItems","subFilterOptions","Set","sort","displayStats","handleItemClick","handleMainFilterChange","handleSubFilterChange","handleStatsModalToggle","handleCloseModal","shouldShowLoading","hasUserButNoItems","gridTemplateColumns","gap","Array","_","i","height","animation","width","NavBar","justifyContent","goldGlow","keyframes","_theme$colors","_theme$colors$glass","glass","_theme$colors2","_theme$colors2$accent","_theme$colors3","_theme$colors3$accent","liquidBrand","Nav","nav","NavContainer","NavItem","Link","$isActive","IconContainer","Label","_theme$colors$accent","ActiveIndicator","ScanButtonContainer","ScanButton","useLocation","navItems","path","label","getIcon","iconName","isActive","viewBox","fill","stroke","d","points","cx","cy","r","pathname","to"],"sourceRoot":""}