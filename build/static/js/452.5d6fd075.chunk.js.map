{"version":3,"file":"static/js/452.5d6fd075.chunk.js","mappings":"8NAKA,MAAMA,GAAWC,EAAAA,EAAAA,IACfC,2CACAA,oNAGIC,EAAYC,EAAAA,GAAOC,IAAGC,IAAAA,GAAAC,EAAAA,EAAAA,GAAA,qNAUtBC,EAAUJ,EAAAA,GAAOC,IAAGI,IAAAA,GAAAF,EAAAA,EAAAA,GAAA,6JASpBG,EAAUN,EAAAA,GAAOC,IAAGM,IAAAA,GAAAJ,EAAAA,EAAAA,GAAA,+TA2E1B,EA5DqBK,KACnB,MAAMC,GAAWC,EAAAA,EAAAA,OACVC,EAASC,IAAcC,EAAAA,EAAAA,UAAS,2CAkDvC,OAhDAC,EAAAA,EAAAA,WAAU,KACmBC,WACzB,IACEC,QAAQC,IAAI,4CAGZ,MAAM,KAAEC,EAAI,MAAEC,SAAgBvB,EAASwB,KAAKC,aAE5C,GAAIF,EAMF,OALAH,QAAQG,MAAM,8BAA0BA,GACxCP,EAAW,4DACXU,WAAW,KACTb,EAAS,qCACR,KAIDS,EAAKK,SACPP,QAAQC,IAAI,0CACZL,EAAW,wDAGXU,WAAW,KACTb,EAAS,IAAK,CACZe,MAAO,CACLb,QAAS,iEAGZ,OAEHK,QAAQC,IAAI,wDACZL,EAAW,gCACXU,WAAW,KACTb,EAAS,gCACR,KAEP,CAAE,MAAOU,GACPH,QAAQG,MAAM,kDAAyCA,GACvDP,EAAW,gDACXU,WAAW,KACTb,EAAS,kCACR,IACL,GAGFgB,IACC,CAAChB,KAGFiB,EAAAA,EAAAA,MAAC3B,EAAS,CAAA4B,SAAA,EACRC,EAAAA,EAAAA,KAACtB,EAAO,KACRsB,EAAAA,EAAAA,KAACxB,EAAO,CAAAuB,SAAEhB,O","sources":["components/AuthCallback.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { createClient } from '@supabase/supabase-js';\nimport styled from 'styled-components';\n\nconst supabase = createClient(\n  process.env.REACT_APP_SUPABASE_URL,\n  process.env.REACT_APP_SUPABASE_ANON_KEY\n);\n\nconst Container = styled.div`\n  min-height: 100vh;\n  background: linear-gradient(135deg, #000000 0%, #4C1C8C 100%);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  padding: 2rem;\n`;\n\nconst Message = styled.div`\n  text-align: center;\n  color: #FFFFFF;\n  font-size: 1.2rem;\n  margin-bottom: 2rem;\n  font-family: 'Outfit', sans-serif;\n  font-weight: 500;\n`;\n\nconst Spinner = styled.div`\n  width: 40px;\n  height: 40px;\n  border: 4px solid rgba(255, 255, 255, 0.1);\n  border-left: 4px solid #FFB000;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin-bottom: 2rem;\n  \n  @keyframes spin {\n    0% { transform: rotate(0deg); }\n    100% { transform: rotate(360deg); }\n  }\n`;\n\nconst AuthCallback = () => {\n  const navigate = useNavigate();\n  const [message, setMessage] = useState('🦋 Confirming your account...');\n\n  useEffect(() => {\n    const handleAuthCallback = async () => {\n      try {\n        console.log('🔄 Processing auth callback...');\n        \n        // Get the current session\n        const { data, error } = await supabase.auth.getSession();\n        \n        if (error) {\n          console.error('❌ Auth callback error:', error);\n          setMessage('❌ Confirmation failed. Redirecting to login...');\n          setTimeout(() => {\n            navigate('/login?error=confirmation-failed');\n          }, 3000);\n          return;\n        }\n\n        if (data.session) {\n          console.log('✅ Email confirmed, user logged in');\n          setMessage('✅ Email confirmed! Welcome to Monarch Passport!');\n          \n          // Redirect to home with success message\n          setTimeout(() => {\n            navigate('/', { \n              state: { \n                message: '🎉 Email confirmed! Welcome to Monarch Passport!' \n              }\n            });\n          }, 2000);\n        } else {\n          console.log('ℹ️ No active session, redirecting to login');\n          setMessage('Please log in to continue...');\n          setTimeout(() => {\n            navigate('/login?message=please-login');\n          }, 2000);\n        }\n      } catch (error) {\n        console.error('💥 Unexpected error in auth callback:', error);\n        setMessage('An unexpected error occurred. Redirecting...');\n        setTimeout(() => {\n          navigate('/login?error=unexpected-error');\n        }, 3000);\n      }\n    };\n\n    handleAuthCallback();\n  }, [navigate]);\n\n  return (\n    <Container>\n      <Spinner />\n      <Message>{message}</Message>\n    </Container>\n  );\n};\n\nexport default AuthCallback; "],"names":["supabase","createClient","process","Container","styled","div","_templateObject","_taggedTemplateLiteral","Message","_templateObject2","Spinner","_templateObject3","AuthCallback","navigate","useNavigate","message","setMessage","useState","useEffect","async","console","log","data","error","auth","getSession","setTimeout","session","state","handleAuthCallback","_jsxs","children","_jsx"],"sourceRoot":""}